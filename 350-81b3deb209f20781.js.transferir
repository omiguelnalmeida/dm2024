(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{4911:function(e){e.exports={af:"af-ZA",am:"am-ET",ar:"ar",az:"az-AZ",bg:"bg-BG",bn:"bn-IN",bho:"bp",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",es:"es-ES","es-419":"es-LA",et:"et-EE",fa:"fa-IR",fr:"fr-FR",fi:"fi-FI",fil:"fp-PH","fr-CA":"fr-CA",gu:"gu-IN",hu:"hu-HU",he:"he-IL",hi:"hi-IN",hr:"hr-HR",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",or:"or-IN","pa-IN":"pa-IN","pa-PK":"pa-PK",pl:"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",sw:"sw",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur",vi:"vi-VN","zh-CN":"zh-CN","zh-TW":"zh-TW",zu:"zu-ZA","ar-EG":"ar-EG","ar-MA":"ar-MA","ar-SA":"ar-SA",eu:"eu-ES",bs:"bs-BA",ca:"ca-ES","zh-HK":"zh-HK","en-GB":"en-GB",gl:"gl-ES",mk:"mk-MK","es-AR":"es-AR","es-MX":"es-MX"}},7093:function(e,t,n){"use strict";n.d(t,{oc:function(){return m},ag:function(){return k}});var r,i,a,o=n(77),s=n(1287),u=n(210),c=n(4911),l=n.n(c);function d(e){return"string"!==typeof e}!function(e){e.af="af",e.am="am",e.ar="ar",e.arEG="ar-EG",e.arMA="ar-MA",e.arSA="ar-SA",e.az="az",e.bg="bg",e.bn="bn",e.bho="bho",e.bs="bs",e.ca="ca",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.enGB="en-GB",e.es419="es-419",e.es="es",e.esAR="es-AR",e.esMX="es-MX",e.et="et",e.eu="eu",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gl="gl",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.mk="mk",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="nb",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.zu="zu"}(r||(r={})),function(e){e.AR="\u060c ",e.FA="\u060c ",e.EN=", "}(i||(i={})),function(e){e.ZERO="zero",e.ONE="one",e.TWO="two",e.FEW="few",e.MANY="many",e.OTHER="other"}(a||(a={}));var p={},f=function(e,t){try{return(p[e]||(p[e]=new Intl.PluralRules(e))).select(t)}catch(n){return a.OTHER}};function v(e){return"number"===typeof e?e.toString():e.replace(/\$/,"$$$$")}var h=function(e){return"ar"===e?"ar-u-nu-latn":e},m=function(){function e(){(0,o.Z)(this,e),(0,u.Z)(this,"_locale",void 0),(0,u.Z)(this,"_rtl",void 0),(0,u.Z)(this,"_dictionary",void 0),(0,u.Z)(this,"_relativeTimeFormat",null),(0,u.Z)(this,"_dateTimeFormats",new Map),this._dictionary={},this._locale=r.en,this._rtl=!1}return(0,s.Z)(e,[{key:"getDateTimeFormat",value:function(e){var t=JSON.stringify(Object.keys(e).sort().map((function(t){return(0,u.Z)({},t,e[t])}))),n=this._dateTimeFormats.get(t);return void 0===n&&(n=new Intl.DateTimeFormat(h(this._locale),e),this._dateTimeFormats.set(t,n)),n}},{key:"getRelativeTimeFormat",value:function(){return null===this._relativeTimeFormat&&(this._relativeTimeFormat=void 0===Intl.RelativeTimeFormat?null:new Intl.RelativeTimeFormat(this._locale)),this._relativeTimeFormat}},{key:"getDictionary",value:function(){return this._dictionary}},{key:"setDictionary",value:function(e){this._dictionary=e}},{key:"setLocale",value:function(e){this._locale=e,this._dateTimeFormats.clear(),this._relativeTimeFormat=null}},{key:"getLocale",value:function(){return this._locale}},{key:"setRtl",value:function(e){this._rtl=e}},{key:"getRtl",value:function(){return this._rtl}},{key:"getSmartlingLocale",value:function(){var e=this._locale;return l()[e]||e}},{key:"toLocaleLowerCase",value:function(e){return null===e||void 0===e?void 0:e.toLocaleLowerCase(this._locale)}},{key:"toLocaleUpperCase",value:function(e){return null===e||void 0===e?void 0:e.toLocaleUpperCase(this._locale)}},{key:"get",value:function(e){for(var t=(e in this._dictionary?this._dictionary[e]:e),n="",r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(d(t)){var o=i[0],s=f(this._locale,parseInt(o,10)),u=t[s];void 0!==u?n=u:t.other&&(n=t.other)}else n=t;if((null===i||void 0===i?void 0:i.length)>0)for(var c=0;c<i.length;c++){var l=i[c];if(null!==l&&void 0!==l)if("string"===typeof l)n=n.replace("{".concat(c,"}"),v(l)).replace("%".concat(c,"%"),v(l));else if("number"===typeof l){var p=this.formatNumber(l);n=n.replace("{".concat(c,"}"),p).replace("%".concat(c,"%"),p)}else if("object"===typeof l)for(var h=0,m=Object.keys(l);h<m.length;h++){var y=m[h],k=l[y];n=n.replace("%".concat(y,"%"),v(k))}}return n}},{key:"getSeparator",value:function(){switch(this._locale){case r.ar:return i.AR;case r.fa:return i.FA;default:return i.EN}}},{key:"formatNumber",value:function(e,t){return e.toLocaleString(h(this._locale),t)}},{key:"formatNumberCompact",value:function(e){return this.formatNumber(e,{notation:"compact",maximumFractionDigits:1})}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={year:"numeric",month:"long",day:"numeric"},r=t||n;return this.getDateTimeFormat(r).format(e)}},{key:"formatRelativeDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Date(Date.now()),r=new Date(e),i=this.getRelativeTimeFormat(),a=r.getTime()-n.getTime(),o=Math.abs(a)<2592e6;if(null!==i&&o){var s=y(a),u=s.weeks,c=s.days,l=s.hours,d=s.minutes,p=s.seconds;return Math.abs(c)>=7?i.format(u,"weeks"):Math.abs(l)>=24?i.format(c,"days"):Math.abs(d)>=60?i.format(l,"hours"):Math.abs(p)>=60?i.format(d,"minutes"):i.format(p,"seconds")}return this.formatDate(r,t)}},{key:"__resetForTests",value:function(){this._dictionary={},this._locale=r.en,p={}}}]),e}();function y(e){return{seconds:Math.round(e/1e3),minutes:Math.round(e/1e3/60),hours:Math.round(e/1e3/60/60),days:Math.round(e/1e3/60/60/24),weeks:Math.round(e/1e3/60/60/24/7)}}var k=new m},1368:function(e,t,n){"use strict";n.d(t,{g:function(){return st}});var r=n(6391),i=n(2335),a=n(7835),o=n(6974),s=n(1562),u=n(1684),c=n(2773),l=n(2677),d=n(210),p=n(9105),f=n.n(p),v=n(2454),h=n(916),m=n(92),y=n(3476),k=function(e){var t=new URL(e.href).searchParams.get("t");if(t){var n=parseInt(t,10);if(n>0)return n}return null},_=n(9180),b=n(9005);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={featureIdentifier:"embed",featureVersion:"3",referrerIdentifier:"PlayerStub_UnknownReferrer"},N=function(e,t,n,r){var i;return t===_.d.PREVIEW?w(w({},e),{},{metadata:w(w({},e.metadata),{},{externalResolvedUrl:r===v.yp.AUDIO?null===(i=e.metadata)||void 0===i?void 0:i.audioPreviewUrl:void 0})}):w(w({},e),{},{metadata:w(w({},e.metadata),{},{useAuthEndpoint:n?"yes":""})})},T=function(e,t){return t.mediaType!==v.yp.VIDEO?e:w(w({},e),{},{metadata:w(w({},e.metadata),{},{mediaType:"video"})})},O=function(e,t){var n=null===e||void 0===e?void 0:e.findIndex((function(e,n){return n>t&&e.isPlayable}));return null!==n&&void 0!==n?n:-1},E=function(e,t){for(var n=t-1;n>=0;n--)if(e&&e[n].isPlayable)return n;return-1},P=function(e,t,n){return null!==e&&void 0!==e&&e.trackList&&t===_.d.PREVIEW?(0,m.C)(e.trackList[null!==n&&void 0!==n?n:0]):(0,m.C)(e)};var C=function(e){return function(t){var n;return e.then((function(e){var r=e.playerAPI,i=void 0;(n=r).getEvents().addListener(y.rg.UPDATE,(function(e){var n,r,a,o,s,u=t.getState(),c=u.playback,l=u.machineState,d=u.data;if(e.data&&!e.data.hasContext&&(null===c||void 0===c?void 0:c.hasContext)&&l.playbackMode===_.d.PREVIEW&&(null===(n=d.entity)||void 0===n?void 0:n.trackList)&&d.entity.trackList.length>l.currentPreviewTrackIndex+1){var p,f=O(null===(p=d.entity)||void 0===p?void 0:p.trackList,l.currentPreviewTrackIndex);f>0&&t.dispatch((0,h.xu)(f))}(t.dispatch((0,h.v5)(e.data)),!1===(null===c||void 0===c?void 0:c.isPaused)&&null!==c&&void 0!==c&&null!==(r=c.item)&&void 0!==r&&r.uri&&i!==(null===c||void 0===c||null===(a=c.item)||void 0===a?void 0:a.uri))&&(t.dispatch((0,b._)({action_type:"playback",action_intent:"item-playback-start",action_item_id:"",item_uri:null===c||void 0===c||null===(o=c.item)||void 0===o?void 0:o.uri})),i=null===c||void 0===c||null===(s=c.item)||void 0===s?void 0:s.uri)})),n.getEvents().addListener(y.rg.ERROR,(function(e){t.dispatch((0,h.cJ)(e.data))}))})),function(e){return function(){var r=(0,l.Z)(f().mark((function r(i){var a,o,s,u,c,l,d,p,m,y,b,g,w,C,S,j,A,Z,L,M,I,D,R,B,U;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return",e(i));case 2:a=t.getState(),o=a.playback,s=a.settings,u=a.machineState,c=a.data,l=c.entity,d=c.defaultAudioFileObject,p=s.session.isAnonymous,m=u.playbackMode===_.d.PREVIEW,y=P(l,u.playbackMode),r.t0=i.type,r.next=r.t0===v.Nv?9:r.t0===v.NH?16:r.t0===v.Bb?20:r.t0===v.gk?22:r.t0===v.E7?24:r.t0===v.tG?26:r.t0===v.Eb?28:r.t0===v.wh?30:r.t0===v.pe?32:r.t0===v.ry?34:r.t0===v.Q2?36:r.t0===v.ot?39:42;break;case 9:if(null===l||void 0===l||!l.trackList||!m||null!==o&&void 0!==o&&o.hasContext){r.next=14;break}return b=O(null===l||void 0===l?void 0:l.trackList,-1),r.abrupt("return",u.currentPreviewTrackIndex===(null===l||void 0===l?void 0:l.trackList.length)-1?t.dispatch((0,h.xu)(b)):t.dispatch((0,h.xu)(u.currentPreviewTrackIndex)));case 14:null!==o&&void 0!==o&&o.hasContext&&!1===(null===o||void 0===o?void 0:o.isPaused)?n.pause():null!==o&&void 0!==o&&o.hasContext&&!0===(null===o||void 0===o?void 0:o.isPaused)?n.resume():(g=k(window.location),w=N(T(y,i),u.playbackMode,!p,i.mediaType),n.play(w,x,{seekTo:g?1e3*g:void 0},d));case 15:return r.abrupt("break",43);case 16:return C=k(window.location),S=N(T(y,i),u.playbackMode,!p,i.mediaType),n.play(S,x,{seekTo:C?1e3*C:void 0},d),r.abrupt("break",43);case 20:return m?(j=P(l,u.playbackMode,i.index),A=N(T(j,i),u.playbackMode,!p,i.mediaType),n.play(A,x,{},d),t.dispatch((0,h.qi)(i.index))):(Z=N(T(y,i),u.playbackMode,!p,i.mediaType),n.play(Z,x,{skipTo:{index:i.index}},d)),r.abrupt("break",43);case 22:return n.resume(),r.abrupt("break",43);case 24:return n.pause(),r.abrupt("break",43);case 26:return i.time&&Number.isFinite(i.time)?n.seekTo(i.time):i.percentage&&Number.isFinite(i.percentage)&&(M=(null===o||void 0===o?void 0:o.duration)||Number(null===(L=y.metadata)||void 0===L?void 0:L.duration),n.seekTo(i.percentage*M)),r.abrupt("break",43);case 28:return n.seekForward(15e3),r.abrupt("break",43);case 30:return n.seekBackward(15e3),r.abrupt("break",43);case 32:return m?(R=null!==(I=null===l||void 0===l||null===(D=l.trackList)||void 0===D?void 0:D.length)&&void 0!==I?I:0,u.currentPreviewTrackIndex<R-1?(B=O(null===l||void 0===l?void 0:l.trackList,u.currentPreviewTrackIndex))>0&&t.dispatch((0,h.xu)(B)):n.skipToNext()):n.skipToNext(),r.abrupt("break",43);case 34:return m?o&&null!==o.positionAsOfTimestamp&&(o.positionAsOfTimestamp>3e3||0===u.currentPreviewTrackIndex)?n.seekTo(0):u.currentPreviewTrackIndex>0&&(U=E(null===l||void 0===l?void 0:l.trackList,u.currentPreviewTrackIndex))>=0&&t.dispatch((0,h.xu)(U)):n.skipToPrevious(),r.abrupt("break",43);case 36:return n.setVolume(0),t.dispatch((0,h.jA)(0)),r.abrupt("break",43);case 39:return n.setVolume(1),t.dispatch((0,h.jA)(1)),r.abrupt("break",43);case 42:return r.abrupt("break",43);case 43:return r.abrupt("return",e(i));case 44:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}},S=n(3567),j=n(7519),A=n(1191),Z=n(5126),L=n(4935),M=n(7751);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return function(t){var n,r=t.getState(),i=r.data.entity,a=r.settings.session.isAnonymous,o=void 0!==a&&a,s=null!==(n=null===i||void 0===i?void 0:i.uri)&&void 0!==n?n:"";function u(t){return e.send((0,Z.l)(t))}var c=(0,L.H)(),l=c.osName,d=c.osVersion,p=c.browserName,f=c.browserVersion;return function(e){return function(n){var r,i=t.getState(),a=i.data,c=i.settings,v=(0,S.EC)(a.embeded_entity_uri),h=null!==(r=a.entity)&&void 0!==r&&r.isAudiobook?M.p.AUDIOBOOK:null===v||void 0===v?void 0:v.type,m={device_type:c.isMobile||c.isTablet?"mobile":"desktop",view_uri:s,entity_uri:null===v||void 0===v?void 0:v.toURI(),entity_type:h,embed_is_video:!1,page_url:window.location.href,referrer:document.referrer,viewport_width:window.innerWidth,viewport_height:window.innerHeight,is_authenticated:!o,browser_name:p,browser_version:f,os_name:l,os_version:d};switch(n.type){case A.N:u(D(D({},m),{},{action_type:"pageview",action_intent:null,action_item_id:null,item_uri:null}));break;case j.C:u(D(D({},m),{},{action_type:n.interactionData.action_type,action_intent:n.interactionData.action_intent,action_item_id:n.interactionData.action_item_id,item_uri:n.interactionData.item_uri}))}return e(n)}}}},B=n(4503);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={initialized:!1,showOverflowMenu:!1,playbackMode:_.d.UNKNOWN,currentPreviewTrackIndex:0};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.q:return W(W({},e),{},{initialized:!0});case B.RA:return W(W({},e),{},{showOverflowMenu:!0});case B.gm:return W(W({},e),{},{showOverflowMenu:!1});case _.L:return W(W({},e),{},{playbackMode:t.playbackMode});case v.sV:return W(W({},e),{},{currentPreviewTrackIndex:t.index});default:return e}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.z1:return H(H({},e),t.state);case A.N:var n=k(window.location);return n?H(H({},e),{},{positionAsOfTimestamp:1e3*n}):e;case v.Y4:return H(H({},e),{},{isDisabled:!0,error:H(H({},t.error),{},{message:t.error.message})});case v.FB:return H(H({},e),{},{volume:t.volume});default:return e}},K=function(e){return(0,u.UY)({data:function(){return e.data},settings:function(){return e.settings},machineState:q,playback:V})};function G(e,t,n){var r=u.qC;return(0,u.MT)(K(e),e,r((0,u.md)(C(n),R(t),c.Z)))}var X,J=n(1513),Q=n(2906),Y=n(6924);function $(e){return Date.now()>=e.accessTokenExpirationTimestampMs}function ee(e){return function(e){var t=null;return(0,l.Z)(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return",t);case 2:return t=e(),n.prev=3,n.next=6,t;case 6:r=n.sent;case 7:return n.prev=7,t=null,n.finish(7);case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}}),n,null,[[3,,7,10]])})))}((0,l.Z)(f().mark((function t(){var n,r,i,a,o,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||$(e)){t.next=4;break}n=e,t.next=11;break;case 4:return t.next=6,Y.b.getInstance().build().withPath("/embed/api/token").withoutMarket().withoutAuthorization().withEndpointIdentifier("/embed/api/token").send();case 6:if(r=t.sent,null!==(n=r.body)){t.next=10;break}throw new Error("Token is currently unavailable.");case 10:Y.b.setSession(n);case 11:return a=(i=n).accessToken,o=i.accessTokenExpirationTimestampMs,s=Math.floor(((o||0)-Date.now())/1e3),t.abrupt("return",[a,s]);case 14:case"end":return t.stop()}}),t)}))))}var te=n(8326);function ne(e){return new Promise((function(t){return setTimeout(t,e)}))}function re(e){return ie.apply(this,arguments)}function ie(){return ie=(0,l.Z)(f().mark((function e(t){var n,r,i=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:2,r=i.length>2&&void 0!==i[2]?i[2]:1e3,e.prev=2,e.next=5,t();case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),!n){e.next=14;break}return e.next=13,ne(r);case 13:return e.abrupt("return",re(t,n-1,r));case 14:throw new Error("Import failed after retry.",{cause:e.t0});case 15:case"end":return e.stop()}}),e,null,[[2,8]])}))),ie.apply(this,arguments)}var ae=function(){var e=(0,l.Z)(f().mark((function e(t,r,i){var a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(0,te.k)(r),!e.t0){e.next=7;break}return e.next=4,i;case 4:e.t1=e.sent,e.t2=_.d.FULL,e.t0=e.t1===e.t2;case 7:if(!e.t0){e.next=13;break}return e.next=10,re((function(){return Promise.all([n.e(239),n.e(662),n.e(104),n.e(446)]).then(n.bind(n,6322))}));case 10:return a=e.sent,o=a.createHarmonyPlayer,e.abrupt("return",o(t));case 13:return e.next=15,re((function(){return Promise.all([n.e(239),n.e(70),n.e(768)]).then(n.bind(n,1985))}));case 15:return s=e.sent,u=s.createOverturePlayer,e.abrupt("return",u(t,r));case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function oe(){return(oe=(0,l.Z)(f().mark((function e(){var t,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(662),n.e(90)]).then(n.bind(n,7985));case 2:return t=e.sent,r=t.checkPlatform,e.abrupt("return",r());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(){return function(){return oe.apply(this,arguments)}().catch((function(){return!1}))},ue=function(e,t){var n=(0,te.k)(t);return n&&(e||t.data.defaultAudioFileObject.passthrough!==v.Zq.NONE)?_.d.FULL:n||!e||function(e){var t=e.settings.session;return Boolean(!t.accessToken||t.isAnonymous)}(t)||function(e){var t=e.settings;return Boolean(t.isPremiumOnlyMarket)}(t)||function(e){var t=e.settings;return Boolean(t.isMobile)}(t)||function(e){var t=e.settings;return Boolean(t.isSafari)}(t)?_.d.PREVIEW:_.d.FULL};var ce=n(8621),le=n(5484),de=n(9382),pe=n(2595),fe=n(7735),ve=fe.env.DEBUG_EVENT_SENDER,he=n(7184),me=n(7093),ye=n(2663),ke=(0,r.createContext)(null),_e=function(e){var t=e.instance,n=e.children;return(0,ye.jsx)(ke.Provider,{value:t,children:n})},be=(0,r.createContext)(null),ge=function(e){var t=e.instance,n=e.children;return(0,ye.jsx)(be.Provider,{value:t,children:n})},we=n(4487),xe=function(e){var t=e.instance,n=e.children;return(0,ye.jsx)(we.H.Provider,{value:{instance:t},children:n})},Ne=n(4676),Te=n(77),Oe=n(1287),Ee=n(3877);function Pe(e,t){return e.reduce((function(e,n){var r=t(n);return(e[r]=e[r]||[]).push(n),e}),{})}var Ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areAlbumsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areArtistsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areTracksInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areShowsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areEpisodesInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addEntitiesToLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]},Me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeEntitiesFromLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]};function Ie(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e){return e===S.JM.ALBUM||e===S.JM.ARTIST||e===S.JM.TRACK||e===S.JM.SHOW||e===S.JM.EPISODE}function Be(e){return e.map((function(e){var t;return null!==(t="saved"in e?e.saved:null)&&void 0!==t&&t}))}var Ue=function(){function e(t){(0,Te.Z)(this,e),(0,d.Z)(this,"requestGQL",void 0),(0,d.Z)(this,"_events",void 0),(0,d.Z)(this,"_cache",void 0),(0,d.Z)(this,"_pendingRequests",void 0),this.requestGQL=t,this._events=new Ee.S,this._cache=new Map,this._pendingRequests=new Map}return(0,Oe.Z)(e,[{key:"getEvents",value:function(){return this._events}},{key:"add",value:function(){var e=(0,l.Z)(f().mark((function e(){var t,n,r,i,a,o,s,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,n=new Array(t),r=0;r<t;r++)n[r]=u[r];if(n.length){e.next=3;break}return e.abrupt("return");case 3:return n.forEach((function(e){var t=(0,S.EC)(e);if(!t||!Re(t.type))throw new Error("Unknown URI type: ".concat(null===t||void 0===t?void 0:t.type))})),e.prev=4,e.next=7,this.requestGQL(Le,{uris:n});case 7:if((i=e.sent)&&!i.errors){e.next=10;break}throw new Error("GraphQL query failed");case 10:if(null===i||void 0===i||!i.errors){a=Ie(n);try{for(a.s();!(o=a.n()).done;)s=o.value,this._cache.set(s,!0),this._events.emit(Ee.E.UPDATE_ITEM,{uri:s,isInLibrary:!0})}catch(c){a.e(c)}finally{a.f()}}e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(4),new Error("Error adding ".concat(JSON.stringify(n)," to library: ").concat(e.t0));case 16:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=(0,l.Z)(f().mark((function e(){var t,n,r,i,a,o,s,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,n=new Array(t),r=0;r<t;r++)n[r]=u[r];if(n.length){e.next=3;break}return e.abrupt("return");case 3:return n.forEach((function(e){var t=(0,S.EC)(e);if(!t||!Re(t.type))throw new Error("Unknown URI type: ".concat(null===t||void 0===t?void 0:t.type))})),e.prev=4,e.next=7,this.requestGQL(Me,{uris:n});case 7:if((i=e.sent)&&!i.errors){e.next=10;break}throw new Error("GraphQL query failed");case 10:for(a=0,o=n;a<o.length;a++)s=o[a],this._cache.set(s,!1),this._events.emit(Ee.E.UPDATE_ITEM,{uri:s,isInLibrary:!1});e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(4),new Error("Error removing ".concat(JSON.stringify(n)," from library: ").concat(e.t0));case 16:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"containsEntitiesOfType",value:function(){var e=(0,l.Z)(f().mark((function e(t,n){var r,i,a,o,s,u,c=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:r=function(){var e=(0,l.Z)(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.requestGQL(t,{uris:n});case 2:if((r=e.sent)&&!r.errors){e.next=5;break}throw new Error("GraphQL query failed");case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.t0=t,e.next=e.t0===S.JM.ALBUM?6:e.t0===S.JM.ARTIST?10:e.t0===S.JM.TRACK?14:e.t0===S.JM.SHOW?18:e.t0===S.JM.EPISODE?22:26;break;case 6:return e.next=8,r(Ce);case 8:return i=e.sent,e.abrupt("return",Be(i.data.albums));case 10:return e.next=12,r(Se);case 12:return a=e.sent,e.abrupt("return",Be(a.data.artists));case 14:return e.next=16,r(je);case 16:return o=e.sent,e.abrupt("return",Be(o.data.tracks));case 18:return e.next=20,r(Ae);case 20:return s=e.sent,e.abrupt("return",Be(s.data.podcasts));case 22:return e.next=24,r(Ze);case 24:return u=e.sent,e.abrupt("return",Be(u.data.episodes));case 26:throw new Error("Unknown URI type: ".concat(t));case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"containsSync",value:function(e){return this._cache.get(e)}},{key:"contains",value:function(){var e=(0,l.Z)(f().mark((function e(){var t,n,r,i,a,o,s=this,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=u.length,r=new Array(n),i=0;i<n;i++)r[i]=u[i];if(a=[],r.forEach((function(e){var n=s._cache.get(e);void 0!==n?a.push(n):t.push(e)})),a.length!==r.length){e.next=6;break}return e.abrupt("return",a);case 6:return o=Pe(t,(function(e){var t=(0,S.EC)(e);if(null===t||!Re(t.type))throw new Error("Unknown URI type: ".concat(null===t||void 0===t?void 0:t.type));return t.type})),e.next=9,Promise.all(Object.entries(o).map(function(){var e=(0,l.Z)(f().mark((function e(t){var n,r,i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ne.Z)(t,2),r=n[0],i=n[1],a=i.join(","),s._pendingRequests.has(a)?o=s._pendingRequests.get(a):(o=s.containsEntitiesOfType(r,i),s._pendingRequests.set(a,o)),e.next=5,o;case 5:u=e.sent,i.forEach((function(e,t){s._cache.set(e,u[t]),s._events.emit(Ee.E.UPDATE_ITEM,{uri:e,isInLibrary:u[t]})})),s._pendingRequests.delete(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return e.abrupt("return",r.map((function(e){return s._cache.get(e)})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),We=n(692);function Fe(e){return"OperationDefinition"===e.kind}function qe(e){var t=e.definitions.filter(Fe);if(0===t.length)throw new Error("No GraphQL operation definition found in document!");if(t.length>1)throw new Error("Too many GraphQL operation definitions found in document! Expected exactly one.");var n=(0,Ne.Z)(t,1)[0];if(void 0===n.name)throw new Error("Nameless GraphQL operations are not supported!");return{type:n.operation,name:n.name.value,body:(0,We.S)(e)}}function ze(e){if("undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}var He=n(3883),Ve=n.n(He),Ke=function(){var e=(0,l.Z)(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ze(t),r=Ve().createHash("sha256").update(n).digest("hex"),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=(0,Oe.Z)((function e(){(0,Te.Z)(this,e)}));(0,d.Z)(Ge,"encode",ze),(0,d.Z)(Ge,"hash",Ke);var Xe=n(8127);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye="https://api-partner.spotify.com/pathfinder/v1";function $e(e){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.hash(t.body);case 2:return n=e.sent,e.abrupt("return",{persistedQuery:{version:1,sha256Hash:n}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e,t,n,r,i){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(f().mark((function e(t,n,r,i,a){var o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.type,s=n.name,u="mutation"===o?"POST":"GET",e.abrupt("return",t.build().withHost(Ye).withMethod(u).withoutMarket().withPath("/query").withJsonContentType().withRetries({retries:2,retryDelay:800,retryOn:[503]}).withQueryParameters(Qe({operationName:s,variables:JSON.stringify(r),extensions:JSON.stringify(i)},a)).withEndpointIdentifier("/query/".concat(s)).send());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t,n,r,i){return it.apply(this,arguments)}function it(){return(it=(0,l.Z)(f().mark((function e(t,n,r,i,a){var o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.name,s=n.body,e.abrupt("return",t.build().withHost(Ye).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({operationName:o,variables:r,query:s,extensions:i}).withQueryParameters(Qe({},a)).withEndpointIdentifier("/query/".concat(o)).send());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t,n){return ot.apply(this,arguments)}function ot(){return ot=(0,l.Z)(f().mark((function e(t,n,r){var i,a,o,s,u,c,l=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:{},e.next=3,$e(n);case 3:return a=e.sent,e.prev=4,e.next=7,tt(t,n,r,a,i);case 7:if(u=e.sent,null===(o=u.body)||void 0===o||null===(s=o.errors)||void 0===s||!s.some((function(e){return"PersistedQueryNotFound"===e.message}))){e.next=10;break}return e.abrupt("return",rt(t,n,r,a,i));case 10:return e.abrupt("return",u);case 13:if(e.prev=13,e.t0=e.catch(4),c=405,!(e.t0 instanceof Xe.mk&&e.t0.status===c)){e.next=18;break}return e.abrupt("return",rt(t,n,r,a,i));case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[4,13]])}))),ot.apply(this,arguments)}var st=function(e){var t=e.children,n=e.state,c=e.config,p=(0,r.useState)(function(e){return(0,u.MT)(K(e),e)}(n)),v=p[0],h=p[1],m=(0,r.useState)(null),y=m[0],k=m[1],b=(0,r.useState)(null),g=b[0],w=b[1],x=(0,r.useState)(null),N=x[0],T=x[1],O=function(e){var t=new me.oc;return t.setDictionary(e.strings),t.setLocale(e.locale),t}(c);return(0,ce.u)(c),(0,r.useEffect)((function(){Y.b.setSession(n.settings.session);var e,t=function(e){if(X)return X;var t=(0,J.createBaseTransport)({providers:{endpoints:(0,J.createXResolveProvider)(),token:ee(e.tokenFromServer)},disconnectBeforeUnload:!0,reconnectionRetries:3,requestMode:"fetch"});return e.useDealer&&t.addPlugin(Q.dv,{WebSocket:WebSocket}),t.on(J.TransportEvent.CONNECTED,(function(){t.isAuthenticated()||t.authenticate()})),t.on(J.TransportEvent.DISCONNECTED,(function(){t.connect()})),t.connect(),X=t,t}({useDealer:!n.settings.session.isAnonymous,tokenFromServer:n.settings.session}),r=function(e){return se().then((function(t){return ue(t,e)}))}(n),i=ae(t,n,r);i.then((function(e){var t=e.playerAPI;w(t)})),T(new Ue((e=Y.b.getInstance(),function(){var t=(0,l.Z)(f().mark((function t(n,r){var i,a,o,s=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.length>2&&void 0!==s[2]?s[2]:{},"subscription"!==(a=qe(n)).type){t.next=4;break}throw new Error("GraphQL subscriptions are not supported!");case 4:return t.next=6,at(e,a,r,i);case 6:return o=t.sent,t.abrupt("return",o.body);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())));var a=c.correlationId,o=function(e,t,n){var r,i=(0,de.createEventSender)({transport:e,suppressPersist:!1,context:[(0,pe.createClientIdContext)(t),(0,pe.createApplicationContext)({version:fe.env.__BUILD_VERSION__}),(0,pe.createUserAgentContext)(),(0,pe.createCorrelationIdContext)(n)]});return ve&&(i._send=i.send,i.send=function(e){console.log("EventSender.send"),console.table(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i._send.apply(i,[e].concat(n))},i.addListeners((r={},(0,d.Z)(r,de.EventSenderEvent.UPLOAD_SUCCEEDED,(function(e){console.log("EventSender: uploaded ".concat(e.data.num_events," events"))})),(0,d.Z)(r,de.EventSenderEvent.UPLOAD_FAILED,(function(e){console.error("EventSender: upload failed",e)})),r))),i}(t,c.clientId,a);k(o);var s=G(n,o,i);r.then((function(e){return s.dispatch(function(e){return{type:_.L,playbackMode:e}}(e)),e})),h(s)}),[n,c]),(0,ye.jsx)(i.zt,{store:v,serverState:n,children:(0,ye.jsx)(xe,{instance:N,children:(0,ye.jsx)(he.b,{instance:O,children:(0,ye.jsx)(_e,{instance:y,children:(0,ye.jsx)(ge,{instance:g,children:(0,ye.jsxs)(le.t.Provider,{value:{isUsingKeyboard:!1},children:[(0,ye.jsx)("base",{target:e.state.settings.isMobile?"_top":"_blank"}),(0,ye.jsx)(a.xB,{styles:o.ue}),(0,ye.jsx)(s.b,{children:t})]})})})})})})}},8351:function(e,t,n){"use strict";n.d(t,{z:function(){return _t}});var r=n(210),i=n(6391),a=n(2335),o=n(8451),s=n.n(o),u=n(2096),c=n.n(u),l=n(9011),d=n(2663),p=function(e){var t=e.className,n=e.ariaLabel,r=e.onClick,i=e.link,a=e.iconSize;return(0,d.jsx)("a",{className:t,onClick:r,title:"logo",href:i,role:"button","aria-label":n,children:(0,d.jsx)(l.V,{iconSize:a})})},f=n(6974),v=n(1562),h=n(6279),m=n(4676),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.desiredSize,r=void 0===n?Number.MAX_SAFE_INTEGER:n,i=t.desiredHeight,a=void 0===i?r:i,o=t.desiredWidth,s=void 0===o?r:o,u=t.desiredLabel,c=void 0===u?"":u;if(e&&!(e.length<=0)){if(c){var l=e.filter((function(e){return e.label===c})),d=(0,m.Z)(l,1),p=d[0];if(p)return p}if(1===e.length)return e[0];var f=e.map((function(e){var t=[(e.width||0)*(e.height||0),a*s];return{ratio:Math.max.apply(Math,t)/Math.min.apply(Math,t),image:e}})).sort((function(e,t){return e.ratio-t.ratio})),v=(0,m.Z)(f,1),h=v[0];return h.image}},k=n(92),_=n(9005),b=n(4372),g=n(3758),w=n.n(g),x=n(9506);var N=function(){return function(e){var t=(0,i.useMemo)((function(){return window.matchMedia(e)}),[e]),n=(0,i.useState)((function(){return!t||t.matches})),r=n[0],a=n[1];return(0,i.useEffect)((function(){if(!t||!t.addEventListener)return function(){};var e=function(e){a(e.matches)};return t.addEventListener("change",e),function(){t.removeEventListener("change",e)}}),[t]),r}("(prefers-reduced-motion: reduce)")},T=function(e){var t=e.children,n=e.title,r=e.speed,o=void 0===r?.2:r,s=e.pauseAtEndEdgeDurationMs,u=void 0===s?1200:s,c=e.initialMouseIntDelayMs,l=void 0===c?200:c,p=e.startAnimationOnMount,f=void 0===p||p,v=e.startAnimationOnMountDelayMs,h=void 0===v?1e3:v,m=e.iterationCount,y=void 0===m?"infinite":m,k=e.scrollMethod,_=void 0===k?"transform":k,b=(0,i.useRef)(null),g=(0,i.useRef)(null),T=(0,i.useRef)(null),O=(0,i.useRef)(0),E=(0,i.useRef)("scrolling"),P=(0,a.v9)((function(e){return e.settings.rtl}))?"rtl":"ltr",C=(0,i.useRef)(void 0),S=N(),j=(0,i.useRef)({initialMouseInteraction:null,animationOnMount:null}),A=(0,i.useCallback)((function(){return T.current&&b.current?T.current.clientWidth-b.current.clientWidth:0}),[]),Z=(0,i.useCallback)((function(){return C&&"rtl"===C.current?1:-1}),[C]),L=(0,i.useCallback)((function(){var e=A();return e>0&&P!==C.current?0+-1*Z()*e:0}),[A,P,Z]),M=(0,i.useCallback)((function(){var e;null===(e=T.current)||void 0===e||e.style.setProperty("--trans-x","".concat(L(),"px"))}),[L]),I=(0,i.useCallback)((function(){if(!S&&!O.current){var e=!1,t=0,n=1,r=!1;E.current="scrolling",function i(a){var s=A();if(!(s<=0)){var c=!0,l=t;if(e){if(r)a>r+u&&(r=!1);else if("paused"===E.current);else{(l+=n*(60*(a-e)/1e3)*o)>s?(n*=-1,r=a,l=s):l<0&&(n*=-1,r=a,l=0,c="infinite"===y)}if(t=l,"transform"===_){var d,p=Z()*t+L();null===(d=T.current)||void 0===d||d.style.setProperty("--trans-x","".concat(p,"px")),g.current.scrollLeft=0}else"scroll"===_&&(g.current.scrollLeft=t)}e=a,O.current=0,c&&(O.current=requestAnimationFrame(i))}}(0)}}),[o,u,_,Z,L,A,S,y]),D=(0,i.useCallback)((function(){return O.current}),[]),R=(0,i.useCallback)((function(){E.current="paused"}),[]),B=(0,i.useCallback)((function(){E.current="scrolling"}),[]),U=(0,i.useCallback)((function(){cancelAnimationFrame(O.current),E.current="paused",O.current=0}),[]),W=(0,i.useCallback)((function(){Object.values(j.current).forEach((function(e){return e&&clearTimeout(e)}))}),[]),F=(0,i.useCallback)((function(e){D()?R():"focus"!==e&&(j.current.initialMouseInteraction=setTimeout(I,l))}),[I,R,l,D]),q=(0,i.useCallback)((function(){j.current.initialMouseInteraction&&clearTimeout(j.current.initialMouseInteraction),D()&&B()}),[B,D]);return(0,i.useEffect)((function(){f&&(j.current.animationOnMount&&clearTimeout(j.current.animationOnMount),j.current.animationOnMount=setTimeout(I,h))}),[I,h,f]),(0,i.useEffect)((function(){return function(){U(),W(),M()}}),[U,W,M]),(0,i.useEffect)((function(){var e,t,n=null===(e=T.current)||void 0===e?void 0:e.children[0];n&&(C.current=getComputedStyle(n).direction,"rtl"===C.current&&(null===(t=b.current)||void 0===t||t.classList.add(w().containerRtl)));M()}),[P,L,M]),function(e){var t=(0,x.y1)(e,100,{leading:!0});(0,i.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),t.cancel()}}),[t])}((function(){U(),M()})),(0,d.jsx)("div",{ref:b,className:w().container,onMouseOver:function(){return F("mouse")},onFocus:function(){return F("focus")},onMouseOut:q,onBlur:q,title:S&&n?n:void 0,children:(0,d.jsx)("div",{ref:g,className:w().scrollableContainer,children:(0,d.jsx)("div",{ref:T,className:w().inner,children:t})})})},O=n(3960),E=n(4618),P=n(9180),C=n(8326),S=n(3567),j=n(916),A=n(3815),Z=n.n(A),L=n(8002),M=n(7184),I=n(6107),D=n.n(I),R=function(e){var t=e.text,n=e.ariaLabel,r=void 0===n?t:n,i=e.title,a=void 0===i?r:i,o=e.className;return(0,d.jsx)("span",{"aria-label":r,className:s()(D().container,o),title:a,children:t})},B=function(e){var t=e.className,n=e.fullText,r=void 0!==n&&n,a=(0,i.useContext)(M.O);return(0,d.jsx)(R,{ariaLabel:a.get("card.a11y.explicit"),text:r?a.get("card.a11y.explicit"):"E",className:t})},U=n(8e3),W=n(6976),F=n.n(W),q=n(4387),z=n(5069),H=n(1388),V=n(7779),K=n(9639),G=function(e){var t=e.url,n=e.newWindow,r=void 0===n||n;window.open(t,r?"_blank":"_top")},X=n(2677),J=n(9105),Q=n.n(J),Y=n(4487),$=n(3877);function ee(e,t){var n,r=(0,i.useContext)(Y.H).instance,o=(0,i.useState)(null!==(n=null===r||void 0===r?void 0:r.containsSync(e))&&void 0!==n?n:t),s=o[0],u=o[1],c=(0,a.v9)((function(e){return e.settings.session.isAnonymous})),l=void 0!==s,d=(0,i.useCallback)(function(){var t=(0,X.Z)(Q().mark((function t(n){return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,null===r||void 0===r?void 0:r.add(e);case 3:t.next=7;break;case 5:return t.next=7,null===r||void 0===r?void 0:r.remove(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,r]);return(0,i.useEffect)((function(){var t=void 0;if(r&&!c)if(l){var n=function(t){var n=t.data;e===n.uri&&u(n.isInLibrary)};r.getEvents().addListener($.E.UPDATE_ITEM,n),t=function(){r.getEvents().removeListener($.E.UPDATE_ITEM,n)}}else r.contains(e).then((function(e){var t=(0,m.Z)(e,1)[0];return u(t)}));return c&&u(!1),t}),[r,c,e,l]),[s,d]}var te=function(e){var t=e.saved,n=e.shouldUseDeeplink,o=e.links,u=e.isMobile,c=e.savedCb,l=(0,a.I0)(),p=(0,i.useContext)(M.O),f=t?p.get("following"):p.get("follow");return(0,d.jsx)("button",{className:s()(F().followButton,(0,r.Z)({},F().following,t)),onClick:function(){n?(l((0,_._)({action_type:"click",action_intent:"deeplink",action_item_id:"follow-button"})),G({url:o.compositeEntity,newWindow:!u})):(l((0,_._)({action_type:"click",action_intent:t?"unfollow":"follow"})),c(!t))},tabIndex:0,"aria-label":f,children:f})},ne=function(e){var t=e.saved,n=e.shouldUseDeeplink,r=e.links,o=e.isMobile,s=e.savedCb,u=(0,i.useContext)(M.O),c=(0,a.I0)(),l=t?u.get("embed_remove_track"):u.get("embed_save_track");return(0,d.jsx)(q.o,{condensedAll:!0,title:l,"aria-label":l,className:F().heartButton,iconOnly:t?z.a:H.A,onClick:function(){n?(c((0,_._)({action_type:"click",action_intent:"deeplink",action_item_id:"heart-button"})),G({url:r.embeddedEntity,newWindow:!o})):(c((0,_._)({action_type:"click",action_intent:t?"remove-from-library":"add-to-library"})),s(!t))},semanticColor:"textBase"})},re=function(e){var t=e.saved,n=e.shouldUseDeeplink,r=e.links,o=e.isMobile,s=e.savedCb,u=(0,a.I0)(),c=(0,i.useContext)(M.O),l=t?c.get("audiobook.embed.added-to-library"):c.get("audiobook.embed.add-to-library");return(0,d.jsx)("div",{className:F().addToLibraryButtonWrapper,children:(0,d.jsx)(q.o,{condensedAll:!0,title:l,"aria-label":l,iconLeading:t?V.K:K.G,onClick:function(){n?(u((0,_._)({action_type:"click",action_intent:"deeplink",action_item_id:"add-to-library-button"})),G({url:r.embeddedEntity,newWindow:!o})):(u((0,_._)({action_type:"click",action_intent:t?"remove-from-library":"add-to-library"})),s(!t))},semanticColor:"textBase",buttonSize:"sm",className:F().addToLibraryButton,children:(0,d.jsx)("span",{className:F().addToLibraryButtonText,children:l})})})},ie=function(){var e=(0,a.v9)(C.k),t=(0,a.v9)((function(e){return e.settings.isMobile})),n=(0,a.v9)((function(e){return e.data.saved})),i=(0,a.v9)((function(e){return e.settings.session.isAnonymous})),o=(0,a.v9)((function(t){return e?t.data.entity.relatedEntityUri:t.data.entity.uri})),u=(0,a.v9)((function(e){var t;return null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook})),c=(0,L.y)("embed_player_p"),l=ee(o,n),p=(0,m.Z)(l,2),f=p[0],v=p[1];if(void 0===f)return null;return(0,d.jsx)("div",{className:s()(F().wrapper,(0,r.Z)({},F().isAudiobook,u)),children:u?(0,d.jsx)(re,{isMobile:t,shouldUseDeeplink:i,links:c,saved:f,savedCb:v}):e?(0,d.jsx)(te,{isMobile:t,shouldUseDeeplink:i,links:c,saved:f,savedCb:v}):(0,d.jsx)(ne,{isMobile:t,shouldUseDeeplink:i,links:c,saved:f,savedCb:v})})},ae=n(7225),oe=n.n(ae),se=function(e){var t=e.className,n=e.isPreview,r=e.isAudiobook,a=e.isTrailer,o=(0,i.useContext)(M.O),s="";return n&&!r?s=o.get("embed_preview"):a&&(s=o.get("track-trailer"),r&&(s=o.get("audiobook.page.sample"))),(0,d.jsx)(R,{className:t,text:s})},ue=function(e){var t=e.className,n=e.isPreview,a=e.isExplicit,o=e.isAudiobook,u=e.isTrailer,c=e.show,l=void 0===c||c,p=(0,i.useContext)(M.O);return(0,d.jsxs)(O.d,{condensedAll:!0,className:s()(oe().tagList,t,(0,r.Z)({},oe().hidden,!l)),"aria-label":p.get("spe.tags"),children:[(0,d.jsx)(se,{isAudiobook:o,isTrailer:u,isPreview:n,className:s()(oe().tag,(0,r.Z)({},oe().hidden,!(n||u)))}),(0,d.jsx)(B,{className:s()(oe().tag,(0,r.Z)({},oe().hidden,!a))})]})},ce=function(){var e=(0,a.v9)((function(e){var t,n;return null!==(t=null===(n=e.data.entity)||void 0===n?void 0:n.isExplicit)&&void 0!==t&&t})),t=(0,a.v9)((function(e){return e.machineState.playbackMode})),n=(0,a.v9)((function(e){var t,n;return null!==(t=null===(n=e.data.entity)||void 0===n?void 0:n.isAudiobook)&&void 0!==t&&t})),r=(0,a.v9)((function(e){var t,n;return null!==(t=null===(n=e.data.entity)||void 0===n?void 0:n.isTrailer)&&void 0!==t&&t})),i=t===P.d.PREVIEW;return(0,d.jsx)(ue,{isPreview:i,isExplicit:e,isAudiobook:n,isTrailer:r,className:oe().condensedTags})},le=["imageSrc","scaleDown","showBelowUpsell","isAudiobook"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe,fe=function(e){var t,n=e.imageSrc,i=e.scaleDown,a=e.showBelowUpsell,o=e.isAudiobook,u=(0,h.Z)(e,le);return(0,d.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"aria-hidden":!0,className:s()(Z().coverArt,(t={},(0,r.Z)(t,Z().scaleDownWhenPlaying,i),(0,r.Z)(t,Z().scaleDownBelowUpsell,a),(0,r.Z)(t,Z().isAudiobook,o),t)),style:{"--image-src":"url('".concat(n,"')")}},u))},ve=function(e){var t=e.className,n=e.isPreview,a=e.isTrailer,o=e.isAudiobook,u=e.isExplicit,c=e.show,l=void 0===c||c,p=(0,i.useContext)(M.O);return(0,d.jsxs)(O.d,{condensedAll:!0,className:s()(Z().tagList,t,(0,r.Z)({},Z().hidden,!l)),"aria-label":p.get("spe.tags"),children:[(0,d.jsx)(se,{className:s()(Z().tag,(0,r.Z)({},Z().hidden,!(n||a))),isPreview:n,isTrailer:a,isAudiobook:o}),(0,d.jsx)(B,{className:s()(Z().tag,(0,r.Z)({},Z().hidden,!u))})]})},he=function(e){var t,n=e.uri,r=e.name,i=e.onClick,a=null===(t=(0,S.EC)(n))||void 0===t?void 0:t.toURL();return(0,d.jsx)(E.h,{standalone:!0,semanticColor:"textBase",onClick:i,href:a,children:r})},me=function(e,t){if(e){var n=(0,U.RX)(e);return(0,U.rL)(n,t)}return""},ye=function(e){var t,n,o,u,c,l=e.showUpsell,p=(0,a.v9)((function(e){return e.data.entity})),h=(0,i.useMemo)((function(){return(0,k.C)(p)}),[p]).metadata,m=(0,i.useMemo)((function(){var e,t,n;return null===(e=y((0,b.m)(null!==(t=null===p||void 0===p||null===(n=p.coverArt)||void 0===n?void 0:n.sources)&&void 0!==t?t:[]),{desiredSize:f.dN.largeScreen.large}))||void 0===e?void 0:e.url}),[p]),g=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isPaused})),w=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.hasContext})),x=(0,a.v9)((function(e){return e.settings.isMobile})),N=(0,a.v9)((function(e){var t;return!(null===(t=e.data.entity)||void 0===t||!t.isAudiobook)})),O=(0,a.v9)((function(e){var t;return!(null===(t=e.data.entity)||void 0===t||!t.isTrailer)})),S=(0,a.v9)((function(e){return e.machineState.playbackMode})),A=(0,a.I0)(),I=(0,i.useCallback)((function(e){return A((0,_._)(e))}),[A]),D=(null===h||void 0===h?void 0:h.title)||"",R=(null===h||void 0===h?void 0:h.subtitle)||"",B=p.artists,U=(null===h||void 0===h?void 0:h.explicit)||"false",W=(null===h||void 0===h?void 0:h.releaseDate)||"",F=null===p||void 0===p?void 0:p.trackList,q=(0,i.useState)(!1),z=q[0],H=q[1],V=(0,i.useRef)(null),K=(0,L.y)("embed_player_p"),G=(0,i.useContext)(M.O),X=S===P.d.PREVIEW,J="true"===U,Q=(0,i.useContext)(v.h),Y=Q.width,$=Q.height;(0,i.useEffect)((function(){return Y&&$&&Y>=f.Zo.medium&&$>=f.p4.large&&!X&&w||N&&X&&w?V.current=setTimeout((function(){return H(!0)}),200):H(!1),function(){V.current&&clearTimeout(V.current)}}),[X,w,V,Y,$,N]);var ee=(0,a.v9)(C.k),te=function(e){return function(){"title"!==e&&"cover-art"!==e||!ee||void 0===g||A((0,j.wO)()),I({action_type:"click",action_intent:"deeplink",action_item_id:e})}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:s()(Z().coverArtMetadataContainer,(t={},(0,r.Z)(t,Z().isPreviewOrTrailer,X||O),(0,r.Z)(t,Z().isAudiobook,N),(0,r.Z)(t,Z().alignBelowUpsell,l),t)),children:[(0,d.jsx)(fe,{scaleDown:z,imageSrc:null!==m&&void 0!==m?m:"",showBelowUpsell:null!==l&&void 0!==l&&l,onClick:function(){te("cover-art")(),window.open(null===K||void 0===K?void 0:K.embeddedEntity,"_blank")},isAudiobook:N}),(0,d.jsx)("div",{className:s()(Z().metadataWrapper,(n={},(0,r.Z)(n,Z().alignBelowUpsell,l),(0,r.Z)(n,Z().isPreviewOrTrailer,X||O),(0,r.Z)(n,Z().isAudiobook,N),n)),children:(0,d.jsxs)("div",{className:Z().metadataContent,children:[(0,d.jsx)("h1",{className:s()(Z().title,(o={},(0,r.Z)(o,Z().isAudiobook,N),(0,r.Z)(o,Z().alignBelowUpsell,l),o)),"data-testid":"entity-title",children:(0,d.jsx)(T,{title:D,speed:.2,iterationCount:"single",children:(0,d.jsx)(E.h,{standalone:!0,semanticColor:"textBase",onClick:te("title"),href:null===K||void 0===K?void 0:K.selectedEntity,children:D})},D)}),(0,d.jsxs)("span",{className:s()(Z().labelsAndSubtitle,(u={},(0,r.Z)(u,Z().isPreviewOrTrailer,X&&!N||X&&O&&!N),(0,r.Z)(u,Z().alignBelowUpsell,l),u)),children:[(0,d.jsx)(ve,{isPreview:X,isExplicit:J,isAudiobook:N,isTrailer:O,show:!!N||!l,className:s()(Z().subtitleAdjacentTags,(0,r.Z)({},Z().isPreviewOrTrailer,X&&!N||X&&O&&!N))}),(0,d.jsx)("h2",{className:s()(Z().subtitle,(c={},(0,r.Z)(c,Z().alignBelowUpsell,l),(0,r.Z)(c,Z().isAudiobook,N),c)),children:(0,d.jsx)(T,{title:D,speed:.2,iterationCount:"single",children:(0,d.jsxs)("span",{children:[ee&&!N&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:me(W,G)}),(0,d.jsx)("span",{className:Z().separator,children:"\xb7"})]}),R&&(0,d.jsx)(E.h,{standalone:!0,semanticColor:"textBase",dir:"auto",onClick:te("subtitle"),href:null===K||void 0===K?void 0:K.compositeEntity,children:R}),(null===B||void 0===B?void 0:B.length)&&B.map((function(e,t){return[t>0&&G.getSeparator(),(0,d.jsx)(he,{uri:e.uri,name:e.name,isMobile:x,onClick:te("artist")},e.uri)]}))]})},D)})]}),!F&&!l&&(0,d.jsx)(ie,{})]})})]}),(0,d.jsxs)("div",{className:s()(Z().condensedMetadataWrapper,(0,r.Z)({},Z().isAudiobook,N)),children:[(0,d.jsx)(ve,{isPreview:X,isExplicit:J,isAudiobook:N,isTrailer:O,show:!X,className:Z().condensedTags}),(0,d.jsx)("h1",{className:s()(Z().title,(0,r.Z)({},Z().isAudiobook,N)),dir:"auto",children:(0,d.jsx)(T,{title:D,speed:.2,iterationCount:"single",children:(0,d.jsxs)("span",{className:Z().condensedMetadataContainer,children:[(0,d.jsx)("span",{children:D}),ee&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:Z().separator,children:"\xb7"}),(0,d.jsx)("span",{children:me(W,G)})]}),(0,d.jsx)("span",{className:Z().separator,children:"\xb7"}),R&&(0,d.jsx)("span",{children:R}),(null===B||void 0===B?void 0:B.length)&&(0,d.jsx)("span",{children:B.map((function(e,t){return[t>0&&G.getSeparator(),e.name]}))})]})},D)})]}),(0,d.jsx)(ve,{isPreview:X,isExplicit:J,isAudiobook:N,isTrailer:O,show:X&&!l&&!N,className:Z().standalone})]})},ke=n(3251),_e=n(2105),be=n(3833),ge=n(5070),we=n(4073),xe=n(3148),Ne=n(6411),Te=n(3529),Oe=n(8349),Ee=n(7120),Pe=n.n(Ee),Ce=n(8900),Se=n.n(Ce),je=n(7660),Ae=n(7110);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEGIN_NEXT_TICK=1]="BEGIN_NEXT_TICK",e[e.ANIMATE=2]="ANIMATE"}(pe||(pe={}));var Me=function(e){var t=e.onClick,n=(0,i.useContext)(M.O),r=(0,i.useState)({left:0,right:0,animationState:pe.INITIAL}),o=r[0],s=r[1],u=(0,i.useState)(!0),c=u[0],l=u[1],p=(0,a.v9)((function(e){return e.data.backgroundColor})),h=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.duration})),m=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.positionAsOfTimestamp})),y=(0,a.v9)((function(e){var t,n;return!(null!==(t=e.playback)&&void 0!==t&&t.hasContext)||(null===(n=e.playback)||void 0===n?void 0:n.isPaused)})),k=(0,i.useRef)(!0);k.current=o.right<180;var _=i.useContext(v.h).height;(0,i.useEffect)((function(){_&&l(_>=f.p4.large)}),[_]),(0,i.useEffect)((function(){if(0===m)return k.current=!0,void s((function(e){return Le(Le({},e),{},{left:0,right:0,animationState:pe.ANIMATE})}));if(h&&m&&m>0){var e=360*m/h,t=e>180?180:e,n=e>180?e-180:0,r=k.current;s((function(e){return Le(Le({},e),{},{left:180===t&&r&&e.animationState===pe.ANIMATE?0:n,right:t,animationState:e.animationState===pe.INITIAL?pe.BEGIN_NEXT_TICK:e.animationState})}))}}),[h,m]),(0,i.useEffect)((function(){o.animationState===pe.BEGIN_NEXT_TICK&&s((function(e){return Le(Le({},e),{},{animationState:pe.ANIMATE})}))}),[o.animationState]);var b={zIndex:1,transform:"rotate(".concat(o.right,"deg)"),transition:0===o.right||o.animationState!==pe.ANIMATE?"none":"transform 1s ease-in-out"},g={zIndex:2,transform:"rotate(".concat(o.left,"deg)"),transition:0===o.left||o.animationState!==pe.ANIMATE?"none":"transform 1s ease-in-out"};return(0,d.jsx)("div",{className:Se().circularContainer,"data-testid":"preview-play-pause",children:y?(0,d.jsx)("button",{className:Se().iconButton,"aria-label":n.get("embed_play"),"data-testid":"play-pause-button",onClick:t,children:(0,d.jsx)(je.z,{iconSize:c?48:32})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:Se().rangeBarRight,children:(0,d.jsx)("div",{className:Se().rangeBarProgress,style:b,"data-testid":"progress-right"})}),(0,d.jsx)("div",{className:Se().rangeBarLeft,children:(0,d.jsx)("div",{className:Se().rangeBarProgress,style:g,"data-testid":"progress-left"})}),(0,d.jsx)("div",{className:Se().circularInner,style:{backgroundColor:p},children:(0,d.jsx)("button",{className:Se().iconButton,"aria-label":n.get("embed_pause"),"data-testid":"play-pause-button",onClick:t,children:(0,d.jsx)(Ae.k,{iconSize:c?32:24})})})]})})};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){var t=e.style,n=e.children;return(0,d.jsx)("div",{style:t,className:Pe().tooltipContainer,children:n})},Be=function(e){var t,n,o,u,c,l,p,f,v,h,m,y=e.showUpsell,b=(0,a.v9)((function(e){return e.data.entity})),g=(0,a.v9)((function(e){return e.machineState.playbackMode})),w=(0,a.v9)(C.k),N=(0,a.v9)((function(e){return e.playback})),T=(0,a.v9)((function(e){var t;return null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook})),O=!!b.trackList,E=b.isPlayable,S=(0,i.useMemo)((function(){return(0,k.C)(b)}),[b]).metadata,A=(null===N||void 0===N?void 0:N.duration)||Number(null===S||void 0===S?void 0:S.duration),Z=(0,a.v9)((function(e){var t,n;return null===(t=e.playback)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.uri})),L=(0,i.useContext)(M.O),I=(0,i.useState)({isDragging:!1,dragPosition:null,showRemainingTime:!0,currentTrackURI:null}),D=I[0],R=I[1],B=(0,i.useState)(),U=B[0],W=B[1],F=(0,a.I0)(),z=function(e){F((0,_._)(e))},H=g===P.d.PREVIEW,V=function(){null!==N&&void 0!==N&&N.isDisabled||(F((0,j.Xh)()),z({action_type:"click",action_intent:!1===(null===N||void 0===N?void 0:N.isPaused)?"pause":"play",action_item_id:"now-playing-bar",item_uri:Z}),E||z({action_type:"playback",action_intent:"track-not-available",action_item_id:"now-playing-bar",item_uri:Z}))},K=(0,x.y1)((function(){R(De(De({},D),{},{dragPosition:null}))}),1e3),G=function(){var e=(0,X.Z)(Q().mark((function e(t){var n,r,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.percentage,r=t.ended,i=t.id,R(De(De({},D),{},{isDragging:!0,dragPosition:n})),r&&(F((0,j.Pu)(n||0)),R(De(De({},D),{},{isDragging:!1,dragPosition:n})),z({action_type:"click",action_intent:"seek-click",item_uri:Z}),K()),r||U===i||(W(i),z({action_type:"click",action_intent:"seek-drag",item_uri:Z}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=D.showRemainingTime,Y=D.isDragging,$=D.dragPosition;Number.isFinite($)?h=$*A:null!==N&&void 0!==N&&N.positionAsOfTimestamp&&(h=null===N||void 0===N?void 0:N.positionAsOfTimestamp);var ee=(m=null!==N&&void 0!==N&&N.hasContext||void 0!==(null===N||void 0===N?void 0:N.isPaused)?J?(0,be.Z)((h||0)-A):(0,be.Z)(h):(0,be.Z)(A)).replace(/\d/g,"0").replace(/^\d/,"-0"),te=null!==(t=null===N||void 0===N?void 0:N.hasContext)&&void 0!==t&&t,ne=!te||null===(n=null===N||void 0===N?void 0:N.isPaused)||void 0===n||n,re=T&&!y||O&&!y||w&&!H;return(0,d.jsxs)("div",{className:s()(Pe().wrapper,(0,r.Z)({},Pe().previewMode,g===P.d.PREVIEW)),children:[(0,d.jsxs)("div",{className:s()(Pe().baselineWrapper,(0,r.Z)({},Pe().previewMode,H)),children:[(0,d.jsxs)("div",{className:s()(Pe().seekControlsWrapper,(0,r.Z)({},Pe().previewMode,H)),dir:"ltr",children:[(0,d.jsx)(q.o,{buttonSize:"sm",className:s()(Pe().seekButton,Pe().seekBack,(o={},(0,r.Z)(o,Pe().hideSeekButton,!re),(0,r.Z)(o,Pe().hasPlaybackContext,te&&!y),(0,r.Z)(o,Pe().isUpsell,y),(0,r.Z)(o,Pe().isAudiobook,T),o)),semanticColor:"textBase",disabled:!(null!==N&&void 0!==N&&null!==(u=N.restrictions)&&void 0!==u&&u.canSeek),onClick:function(){var e;null!==N&&void 0!==N&&null!==(e=N.restrictions)&&void 0!==e&&e.canSeek&&(O?(F((0,j.ax)()),z({action_type:"click",action_intent:"previous",item_uri:Z})):(F((0,j.WT)()),z({action_type:"click",action_intent:"skip-back-15"})))},iconOnly:O?ge.y:we.v,"aria-label":O?L.get("spe.playback-control.skip-back"):L.get("spe.playback-control.skip-backward-15")}),(0,d.jsx)("div",{className:s()(Pe().progressBarWrapper,(c={},(0,r.Z)(c,Pe().hasPlaybackContext,te),(0,r.Z)(c,Pe().isAudiobook,T),c)),children:(0,d.jsx)(_e.Z,{tooltip:Re,max:A,current:h,onDragging:G,isDragging:Y,enabled:E})}),(0,d.jsx)(q.o,{buttonSize:"sm",className:s()(Pe().seekButton,Pe().seekForward,(l={},(0,r.Z)(l,Pe().hideSeekButton,!re),(0,r.Z)(l,Pe().hasPlaybackContext,te&&!y),(0,r.Z)(l,Pe().isUpsell,y),(0,r.Z)(l,Pe().isAudiobook,T),l)),semanticColor:"textBase",disabled:!(null!==N&&void 0!==N&&null!==(p=N.restrictions)&&void 0!==p&&p.canSeek),onClick:function(){var e;null!==N&&void 0!==N&&null!==(e=N.restrictions)&&void 0!==e&&e.canSeek&&(O?(F((0,j.vR)()),z({action_type:"click",action_intent:"next",item_uri:Z})):(F((0,j.ez)()),z({action_type:"click",action_intent:"skip-forward-15"})))},iconOnly:O?xe.W:Ne.v,"data-testid":"skip-forward","aria-label":O?L.get("spe.playback-control.skip-forward"):L.get("spe.playback-control.skip-forward-15")})]}),(0,d.jsxs)("button",{type:"button",className:s()(Pe().progressTimer,(f={},(0,r.Z)(f,Pe().previewMode,H&&!T),(0,r.Z)(f,Pe().isAudiobook,T),(0,r.Z)(f,Pe().isUpsell,y),f)),onClick:function(){R(De(De({},D),{},{showRemainingTime:!D.showRemainingTime})),z({action_type:"click",action_intent:"change-time-format"})},"aria-label":L.get("spe.playback-control.progress-timestamp"),children:[(0,d.jsx)("span",{className:Pe().progressTimeSpacer,"aria-hidden":!0,children:ee}),(0,d.jsx)("span",{role:"timer",className:Pe().actualProgressTime,"data-testid":"progress-timestamp",children:m})]}),(0,d.jsx)(q.o,{buttonSize:"sm",className:Pe().overflowMenuButton,semanticColor:"textBase",title:L.get("embed_more"),"aria-label":L.get("embed_more"),onClick:function(){F((0,Oe.Nn)()),z({action_type:"click",action_intent:"open-context-menu"})},iconOnly:Te.N})]}),(0,d.jsx)("div",{className:s()(Pe().playButtonWrapper,(v={},(0,r.Z)(v,Pe().hideWhenFullHeightUpsell,y&&!T),(0,r.Z)(v,Pe().isAudiobook,T),(0,r.Z)(v,Pe().isUpsell,y),v)),children:H&&!T?(0,d.jsx)(Me,{onClick:V}):(0,d.jsx)(ke.Z,{onClick:V,isPaused:ne,isLoading:(null===N||void 0===N?void 0:N.isBuffering)||!1,isDisabled:(null===N||void 0===N?void 0:N.isDisabled)||!1})})]})},Ue=n(4453),We=n.n(Ue),Fe=n(4761),qe=n(2499),ze=n(2034),He=n(2076),Ve=n.n(He),Ke=n(9450),Ge=function(e){var t=e.visible,n=e.onClose,o=(0,L.y)("embed_player_v"),u=(0,i.useContext)(M.O),c=(0,a.v9)(C.z),p=(0,a.v9)((function(e){return e.data.backgroundColor})),f=(0,a.v9)((function(e){var t;return(null===(t=e.data.entity)||void 0===t?void 0:t.relatedEntityUri)||""})),v=(0,a.v9)((function(e){return e.settings.session.isAnonymous})),h=(0,a.v9)((function(e){return e.data.saved})),y=(0,a.v9)((function(e){var t;return(null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook)||!1})),k=(0,i.useState)(!1),b=k[0],g=k[1],w=(0,a.v9)(C.k),x=(0,i.useRef)(null),N=ee(f,h),T=(0,m.Z)(N,2),O=T[0],E=T[1],P=(0,a.I0)(),S=function(){n(),P((0,_._)({action_type:"click",action_intent:"close-context-menu"}))},A=function(){var e=(0,X.Z)(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:if(!c){e.next=8;break}return e.next=5,(0,Ke.v)(c,x.current);case 5:P((0,_._)({action_type:"click",action_intent:"clipboard-copy"})),g(!0),setTimeout((function(){return g(!1)}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(Ve(),{active:t,focusTrapOptions:{onDeactivate:S},children:(0,d.jsxs)("div",{ref:x,className:s()(We().wrapper,(0,r.Z)({},We().visible,t)),style:{backgroundColor:p},children:[(0,d.jsxs)("div",{className:s()(We().menuContent,(0,r.Z)({},We().visible,t)),children:[(0,d.jsxs)("ul",{className:s()(We().menu,(0,r.Z)({},We().visible,t)),children:[(0,d.jsx)("li",{className:We().menuItem,children:(0,d.jsx)("a",{className:We().menuItemButton,tabIndex:-1,href:o.embeddedEntity,children:(0,d.jsxs)("button",{className:We().menuItemButton,onClick:function(){w&&P((0,j.wO)()),P((0,_._)({action_type:"click",action_intent:"deeplink",action_item_id:"play-on-spotify"}))},children:[(0,d.jsx)(l.V,{className:We().icon,"aria-hidden":"true"}),(0,d.jsx)("div",{className:We().truncator,children:u.get("play_on_spotify")})]})})}),(0,d.jsx)("li",{className:We().menuItem,children:(0,d.jsx)("a",{className:We().menuItemButton,tabIndex:-1,href:o.compositeEntity,onClick:function(e){y&&!v&&e.preventDefault()},children:(0,d.jsxs)("button",{className:We().menuItemButton,onClick:function(){v?(0,_._)({action_type:"click",action_intent:"deeplink",action_item_id:"add-to-library-button"}):((0,_._)({action_type:"click",action_intent:O?"remove-from-library":"add-to-library"}),E(!O))},children:[y?O?(0,d.jsx)(V.K,{className:We().icon,"aria-hidden":"true"}):(0,d.jsx)(K.G,{className:We().icon,"aria-hidden":"true"}):(0,d.jsx)(Fe.V,{className:We().icon,"aria-hidden":"true"}),(0,d.jsx)("div",{className:We().truncator,children:y?O?u.get("audiobook.embed.added-to-library"):u.get("audiobook.embed.add-to-library"):u.get("follow_on_spotify")})]})})}),(0,d.jsx)("li",{className:We().menuItem,children:(0,d.jsxs)("button",{disabled:!c,className:We().menuItemButton,onClick:A,children:[(0,d.jsx)(qe.o,{className:We().icon,"aria-hidden":"true"}),(0,d.jsxs)("div",{className:We().copyLinkWrapper,children:[(0,d.jsx)("span",{className:s()(We().copyText,(0,r.Z)({},We().copied,b)),children:(0,d.jsx)("div",{className:We().truncator,children:u.get("spe.copy_link")})}),(0,d.jsx)("span",{className:s()(We().copiedText,(0,r.Z)({},We().copied,b)),children:(0,d.jsx)("div",{className:We().truncator,children:u.get("embed_success_share_link")})})]})]})})]}),(0,d.jsxs)("div",{className:We().policies,children:[(0,d.jsx)("a",{className:We().link,href:"https://www.spotify.com/legal/privacy-policy/",onClick:function(){P((0,_._)({action_type:"click",action_intent:"privacypolicy-show"}))},children:u.get("spe.privacy_policy")}),(0,d.jsx)("span",{className:We().separator,children:"\xb7"}),(0,d.jsx)("a",{className:We().link,href:"https://www.spotify.com/legal",onClick:function(){P((0,_._)({action_type:"click",action_intent:"termsandconditions-show"}))},children:u.get("spe.terms_and_conditions")})]})]}),(0,d.jsx)("button",{title:u.get("close_button_action"),className:We().closeButton,onClick:S,children:(0,d.jsx)(ze.k,{})})]})})},Xe=n(8346),Je=n(2762),Qe=n.n(Je),Ye=n(4415),$e=n(6894),et=n(9218),tt=function(e){var t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return"".concat(t,", ").concat(n,", ").concat(r)},nt=function(e){var t,n,r,i,a,o=e.playback,s=e.machineState.playbackMode;if("artist"===(null===(t=e.data.entity)||void 0===t?void 0:t.type)&&s===P.d.FULL){var u,c,l=null===(u=e.data.entity)||void 0===u?void 0:u.trackList;return null===l||void 0===l||null===(c=l.find((function(e){var t;return e.uri===(null===o||void 0===o||null===(t=o.item)||void 0===t?void 0:t.uri)})))||void 0===c?void 0:c.uid}return null!==(n=s===P.d.FULL?null===o||void 0===o||null===(r=o.item)||void 0===r?void 0:r.uid:null===o||void 0===o||null===(i=o.context)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.uid)&&void 0!==n?n:void 0},rt=function(e){var t=e.position,n=e.duration,r=e.isPreview,o=e.isPaused,s=e.hasContext,u=e.currentPreviewTrackIndex,c=e.isAudiobook,l=(0,a.v9)(nt),d=(0,i.useState)(!1),p=d[0],f=d[1],v=(0,i.useState)(!1),h=v[0],m=v[1],y=(0,i.useState)(u+1),k=y[0],_=y[1],b=function(){var e=(0,i.useState)(0),t=e[0],n=e[1];return{skipCount:t,incrementSkipCounter:(0,i.useCallback)((function(){n(t+1)}),[t]),resetSkipCounter:(0,i.useCallback)((function(){n(0)}),[])}}(),g=b.skipCount,w=b.incrementSkipCounter,x=b.resetSkipCounter;(0,i.useEffect)((function(){u!==k&&u!==k-2||(_((function(){return k+1})),w()),_((function(){return u+1}))}),[u,w,k]);return(0,i.useEffect)((function(){c&&n?(s&&null!==t&&(t>6e4&&g<1&&(f(!0),w()),t>0&&o&&f(!0)),t===n&&(f(!0),x())):s&&r&&null!==t&&n&&(t>2*n/3||t>0&&o||3===g)&&h!==l&&(m(l),f(!0),x())}),[t,n,r,o,l,s,h,g,x,c,w]),{showUpsell:p,setShowUpsell:f}},it=function(e,t,n){switch(e){case S.JM.EPISODE:case S.JM.SHOW:return n?t.get("audiobook.embed.upsell_cta"):t.get("spe.upsell_cta");case S.JM.TRACK:return t.get("spe.track_upsell_cta");case S.JM.PLAYLIST:default:return t.get("spe.track_list_upsell")}},at=function(){var e=(0,a.v9)((function(e){return e.data.entity.type})),t=(0,a.v9)((function(e){return e.data.entity.isAudiobook||!1})),n=(0,i.useContext)(M.O);return(0,d.jsx)(Ye.D,{as:"h1",variant:"canon",className:s()(Qe().ctaText,(0,r.Z)({},Qe().isAudiobook,t)),children:it(e,n,t)})},ot=i.forwardRef((function(e,t){var n=e.onClose,o=(0,L.y)("embed_player_v"),u=(0,i.useState)("md"),c=u[0],l=u[1],p=i.useContext(v.h),h=p.width,m=p.height,k=(0,i.useContext)(M.O),g=(0,a.I0)(),w=(0,a.v9)((function(e){return e.data.backgroundColor})),x=(0,a.v9)((function(e){return e.data.entity.coverArt})),N=(0,a.v9)((function(e){var t;return null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook})),T=(0,i.useMemo)((function(){var e,t;return null===(e=y((0,b.m)(null!==(t=null===x||void 0===x?void 0:x.sources)&&void 0!==t?t:[]),{desiredSize:f.dN.largeScreen.large}))||void 0===e?void 0:e.url}),[x]);return(0,i.useEffect)((function(){var e,t,n;m&&h&&N&&l((t=h,n=N,(e=m)<f.p4.landscape&&t<f.Zo.small||n&&e<f.p4.large?"sm":"md"))}),[m,N,h]),(0,d.jsxs)("div",{ref:t,className:Qe().fullscreenWrapper,style:{"--background-color":"".concat(tt(w))},children:[(0,d.jsxs)("div",{className:s()(Qe().ctaWrapper,(0,r.Z)({},Qe().isAudiobook,N)),children:[(0,d.jsx)("div",{className:s()(Qe().backgroundCoverArt,(0,r.Z)({},Qe().isAudiobook,N)),style:{"--image-src":"url('".concat(T,"')")}}),(0,d.jsxs)("div",{className:s()(Qe().content,(0,r.Z)({},Qe().isAudiobook,N)),children:[(0,d.jsx)(at,{}),(0,d.jsx)("div",{className:s()(Qe().getSpotifyButton,(0,r.Z)({},Qe().isAudiobook,N)),children:(0,d.jsx)($e.D,{as:"a",buttonSize:c,colorSet:"invertedLight",href:o.cta,onClick:function(){g((0,_._)({action_type:"click",action_intent:"deeplink",action_item_id:"get-spotify"}))},tabIndex:0,children:(0,d.jsx)(Ye.D,{className:s()(Qe().buttonText,(0,r.Z)({},Qe().isAudiobook,N)),variant:"canon",children:N?k.get("audiobook.embed.buy-this-audiobook"):k.get("get_spotify")})})}),(0,d.jsx)(q.o,{semanticColor:"textBase",iconOnly:ze.k,title:k.get("close_button_action"),className:Qe().closeButton,onClick:function(){n(),g((0,_._)({action_type:"click",action_intent:"close-upsell"}))},"aria-label":k.get("close_button_action")})]})]}),(0,d.jsxs)("div",{className:s()(Qe().metadataWrapper,(0,r.Z)({},Qe().isAudiobook,N)),children:[(0,d.jsx)(ye,{showUpsell:!0}),(0,d.jsx)("div",{className:s()(Qe().tagsBelowMetadata,(0,r.Z)({},Qe().isAudiobook,N)),children:(0,d.jsx)(ce,{})})]}),(0,d.jsxs)("div",{className:s()(Qe().playerControlsWrapper,(0,r.Z)({},Qe().isAudiobook,N)),children:[(0,d.jsx)("div",{className:s()(Qe().tagsBesideControls,(0,r.Z)({},Qe().isAudiobook,N)),children:(0,d.jsx)(ce,{})}),(0,d.jsx)(Be,{showUpsell:!0})]})]})})),st=function(){var e=(0,a.v9)((function(e){return e.machineState.playbackMode===P.d.PREVIEW})),t=(0,a.v9)((function(e){return(0,et.k)(e.playback)})),n=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.duration})),r=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isPaused})),o=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.hasContext})),s=(0,a.v9)((function(e){return e.machineState.currentPreviewTrackIndex})),u=(0,a.v9)((function(e){var t;return(null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook)||!1})),c=rt({duration:n,isPreview:e,isPaused:r,hasContext:o,position:t,currentPreviewTrackIndex:s,isAudiobook:u}),l=c.showUpsell,p=c.setShowUpsell,f=(0,a.I0)();(0,i.useEffect)((function(){l&&f((0,_._)({action_intent:"open-upsell",action_type:"view"}))}),[f,l]);var v=(0,i.useRef)(null);return(0,d.jsx)(Xe.Z,{nodeRef:v,in:l,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:Qe().transition_enter,enterActive:Qe().transition_enterActive,exit:Qe().transition_exit,exitActive:Qe().transition_exitActive},children:(0,d.jsx)(ot,{ref:v,onClose:function(){p(!1)}})})},ut=n(3739),ct=n(6998),lt=n(2384),dt=n.n(lt),pt=n(2346),ft=function(e){var t,n=e.hoverOnTrack,r=e.isCurrentTrack,a=e.isPaused,o=e.isPlayable,s=e.trackNumber,u=e.hasPlaybackContext,c=(0,i.useContext)(M.O);t=o?r&&!a&&u?(0,d.jsx)(Ae.k,{"data-testid":"pause-icon",iconSize:16}):n||r&&a&&u?(0,d.jsx)(pt.J,{"data-testid":"play-icon",iconSize:16}):s:s;var l=u&&r&&!a;return(0,d.jsx)("button",{"data-testid":"playback-indicator",className:dt().trackNumberCellContent,"aria-label":l?c.get("spe.playback-control.pause-track"):c.get("spe.playback-control.play-track"),disabled:!o,children:t})},vt=i.forwardRef((function(e,t){var n,o=e.index,u=e.trackNumber,c=e.title,l=e.subtitle,p=e.duration,h=e.isCurrentTrack,m=void 0!==h&&h,y=e.isPlayable,k=e.isExplicit,b=(0,i.useState)(!1),g=b[0],w=b[1],x=(0,a.v9)((function(e){var t,n;return null!==(t=null===(n=e.playback)||void 0===n?void 0:n.hasContext)&&void 0!==t&&t})),N=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isPaused})),T=(0,a.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isDisabled})),O=(0,a.v9)((function(e){var t,n;return(null===(t=e.data.entity)||void 0===t?void 0:t.trackList)&&(null===(n=e.data.entity)||void 0===n?void 0:n.trackList[o].uri)})),E=(0,a.I0)(),P=i.useContext(v.h).height,C=!!(P&&P<f.p4.large),S=!!(P&&P<f.p4.landscape);return(0,d.jsxs)("li",{ref:t,className:s()(dt().trackListRow,(n={},(0,r.Z)(n,dt().isCurrentTrack,m&&x),(0,r.Z)(n,dt().isPlayable,y),(0,r.Z)(n,dt().isExplicit,k),n)),onClick:function(){T||(y?(E(m?(0,j.Xh)():(0,j.xu)(o)),E((0,_._)({action_type:"click",action_intent:!1===N&&m?"pause":"play",action_item_id:"tracklist-row",item_uri:O}))):E((0,_._)({action_type:"playback",action_intent:"track-not-available",action_item_id:"tracklist-row",item_uri:O})))},onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},"data-testid":"tracklist-row-".concat(o),children:[!S&&(0,d.jsx)("div",{className:s()(dt().trackNumberCell,(0,r.Z)({},dt().isCurrentTrack,m)),children:(0,d.jsx)(ft,{trackNumber:u,hoverOnTrack:g,isCurrentTrack:m,isPlayable:y,hasPlaybackContext:x,isPaused:N})}),C&&(0,d.jsxs)(d.Fragment,{children:[k&&(0,d.jsx)(B,{className:dt().tag}),(0,d.jsxs)("div",{className:dt().condensedMetadata,children:[(0,d.jsx)("h3",{dir:"auto",className:s()(dt().title,(0,r.Z)({},dt().isCurrentTrack,m)),children:c}),(0,d.jsx)("span",{className:dt().separator,"aria-hidden":!0,children:"\xb7"}),(0,d.jsx)("h4",{dir:"auto",className:s()(dt().subtitle,(0,r.Z)({},dt().isCurrentTrack,m)),children:l})]})]}),!C&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{dir:"auto",className:s()(dt().title,(0,r.Z)({},dt().isCurrentTrack,m)),children:c}),(0,d.jsxs)("h4",{dir:"auto",className:s()(dt().subtitle,(0,r.Z)({},dt().isCurrentTrack,m)),children:[k&&(0,d.jsx)(B,{className:dt().tag}),l]}),(0,d.jsx)("div",{className:s()(dt().durationCell,(0,r.Z)({},dt().isCurrentTrack,m)),children:(0,be.Z)(p)})]})]})})),ht=n(8674),mt=n.n(ht),yt=function(e){var t=e.trackList,n=void 0===t?[]:t,r=e.backgroundColor,o=e.className,u=(0,i.useState)(!1),c=u[0],l=u[1],p=(0,i.useContext)(v.h).height,h=(0,a.v9)((function(e){var t,n;return null!==(t=null===(n=e.playback)||void 0===n?void 0:n.hasContext)&&void 0!==t&&t})),m=(0,a.v9)(nt),y=(0,i.useContext)(M.O);(0,i.useEffect)((function(){return l(!!(p&&p<f.p4.landscape))}),[p]);var k=(0,i.useCallback)((function(e){var t=e.uid;return!(!t||!h)&&t===m}),[h,m]),_=(0,i.useState)(0),b=_[0],g=_[1],w=n[b];(0,i.useEffect)((function(){var e=n.findIndex(k);g(e<0?0:e)}),[k,n]);var x=(0,i.useRef)(null),N=(0,i.useRef)(null);return(0,i.useEffect)((function(){x.current&&x.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),[b]),(0,i.useEffect)((function(){N.current&&!h&&b===n.length-1&&N.current&&N.current.scrollTo({top:0,behavior:"smooth"})}),[b,h,n.length]),(0,d.jsx)("div",{className:s()(mt().backgroundColorContainer,o),style:{"--background-color":r},"data-testid":"tracklist",children:(0,d.jsx)("div",{className:mt().opacityContainer,children:(0,d.jsx)("div",{ref:N,className:mt().wrapper,children:c?w&&(0,d.jsx)(vt,{index:b,uid:w.uid,trackNumber:b+1,title:w.title,subtitle:w.subtitle,duration:w.duration||0,isExplicit:w.isExplicit,isCurrentTrack:!0,isPlayable:w.isPlayable}):(0,d.jsx)("ol",{className:mt().trackListContainer,"aria-label":y.get("spe.track_list"),children:n.map((function(e,t){return(0,d.jsx)(vt,{ref:k(e)?x:void 0,index:t,uid:e.uid,trackNumber:t+1,title:e.title,subtitle:e.subtitle,duration:e.duration||0,isExplicit:e.isExplicit,isCurrentTrack:k(e),isPlayable:e.isPlayable},e.uid)}))})})})})},kt=function(e){var t=e.backgroundColor;return(0,d.jsx)("div",{className:c().backgroundColorContainer,style:{backgroundColor:t}})},_t=function(){var e=(0,a.I0)(),t=(0,i.useState)(32),n=t[0],o=t[1],u=(0,a.v9)((function(e){return e.machineState.initialized})),l=(0,a.v9)((function(e){return e.machineState.showOverflowMenu})),h=(0,a.v9)((function(e){return e.machineState.playbackMode})),m=(0,a.v9)((function(e){return e.data.backgroundColor})),y=(0,a.v9)((function(e){var t;return null===(t=e.data.entity)||void 0===t?void 0:t.trackList})),k=(0,a.v9)((function(e){var t;return null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook})),b=(0,i.useCallback)((function(){return"ontouchstart"in document.documentElement?"touchstart":"mouseover"}),[]),g=(0,i.useCallback)((function(){document.removeEventListener(b(),g),e((0,ut.j)()),e((0,_._)({action_type:"interacted",action_intent:b()}))}),[e,b]);(0,i.useEffect)((function(){return e((0,ut.s)()),document.addEventListener(b(),g),function(){document.removeEventListener(b(),g)}}),[e,g,b]);var w=i.useContext(v.h),x=w.width,N=w.height;(0,i.useEffect)((function(){N&&x&&o(function(e,t,n){return!(e>=f.p4.large&&t>=f.Zo.medium)||n&&n.length?e>=f.p4.landscape?24:16:32}(N,x,y))}),[y,N,x]);var T=ct.SW;return(0,d.jsxs)("div",{"data-testid":"embed-widget-container",className:s()("encore-dark-theme ".concat(c().container," embed-widget-container"),{"has-track-list":Boolean(y)}),children:[(0,d.jsxs)("div",{"data-testid":"initialized-".concat(u),className:c().container,children:[(0,d.jsxs)("div",{className:c().metadataAndPlayerControlsContainer,children:[(0,d.jsx)(kt,{backgroundColor:m}),(0,d.jsx)(ye,{}),(0,d.jsx)("div",{className:s()(c().playerControlsWrapper,(0,r.Z)({},c().isAudiobook,k)),children:h!==P.d.UNKNOWN&&(0,d.jsx)(Be,{})}),(0,d.jsx)(p,{className:s()(c().spotifyLogo,(0,r.Z)({},c().isAudiobook,k)),ariaLabel:"play_on_spotify",onClick:function(){e((0,_._)({action_type:"click",action_intent:"deeplink",action_item_id:"spotify-logo"}))},link:T,iconSize:n})]}),(null===y||void 0===y?void 0:y.length)&&(0,d.jsx)(yt,{className:c().trackListContainer,backgroundColor:m,trackList:y})]}),h!==P.d.UNKNOWN&&(0,d.jsx)(Ge,{onClose:function(){e((0,Oe.h6)())},visible:l}),h!==P.d.UNKNOWN&&(0,d.jsx)(st,{})]})}},8282:function(e,t,n){"use strict";var r=n(9011),i=n(6391),a=n(1562),o=n(6525),s=n.n(o),u=n(2663);t.Z=function(e){var t=e.title,n=e.description,o=e.links,c=(0,i.useState)(32),l=c[0],d=c[1],p=(0,i.useContext)(a.h).height;return(0,i.useEffect)((function(){p&&d(function(e){return e>550?64:24}(p))}),[p]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:s().wrapper,children:[(0,u.jsx)("div",{className:s().icon,children:(0,u.jsx)(r.V,{iconSize:l})}),(0,u.jsxs)("div",{className:s().content,children:[(0,u.jsx)("h1",{className:s().title,children:t}),(0,u.jsx)("p",{className:s().description,children:n}),(0,u.jsx)("div",{className:s().links,children:function(e){var t=e.map((function(e){return(0,u.jsx)("a",{target:"_blank",href:e.href,className:e.isPrimaryStyle?s().primary:"",children:e.title},e.href)}));return(0,u.jsx)(u.Fragment,{children:t.map((function(e){return e}))})}(o)})]})]})})}},3251:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(77),i=n(1287),a=n(4492),o=n(536),s=n(1437),u=n(5691),c=n(210),l=n(6391),d=n(2197),p=n.n(d),f=n(2663),v=function(){return(0,f.jsx)("div",{className:p().loadingSpinner})},h=n(7660),m=n(6962),y=n(1570),k=n.n(y),_=n(8451),b=n.n(_),g=n(7184);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var x=function(e){(0,o.Z)(n,e);var t=w(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,c.Z)((0,a.Z)(i),"tickToShowLoading",void 0),(0,c.Z)((0,a.Z)(i),"tickToHideLoading",void 0),i.state={showLoading:!1},i}return(0,i.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;!0===this.props.isLoading&&!1===e.isLoading?this.tickToShowLoading=setTimeout((function(){n.tickToShowLoading=null,!0===n.props.isLoading&&n.setState({showLoading:!0})}),this.props.maxTimeToNotShowLoading||200):!1===this.props.isLoading&&!0===e.isLoading&&(this.tickToShowLoading&&clearTimeout(this.tickToShowLoading),!0===this.state.showLoading&&(this.tickToHideLoading||setTimeout((function(){n.setState({showLoading:!1})}),300))),!0===this.state.showLoading&&!1===t.showLoading&&(this.tickToHideLoading=setTimeout((function(){n.tickToHideLoading=null,!1===n.props.isLoading&&n.setState({showLoading:!1})}),300))}},{key:"render",value:function(){var e=null,t=this.props,n=t.isPaused,r=t.isDisabled,i=t.className,a=t.onClick,o=this.context,s=this.state.showLoading,u=o.get("page.loading");return r&&(u=o.get("spe.error_heading")),s?(u=o.get("page.loading"),e=(0,f.jsx)(v,{})):n?(u=o.get("spe.play"),e=(0,f.jsx)(h.z,{className:k().playPauseIcon,title:u})):(u=o.get("spe.pause"),e=(0,f.jsx)(m.p,{className:k().playPauseIcon,title:u})),(0,f.jsx)("button",{"data-testid":"play-pause-button",className:b()(i,k().buttonWrapper,(0,c.Z)({},k().disabled,r)),onClick:a,"aria-label":u,tabIndex:0,children:e})}}]),n}(l.Component);(0,c.Z)(x,"contextType",g.O);var N=x},2105:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(4676),i=n(77),a=n(1287),o=n(4492),s=n(536),u=n(1437),c=n(5691),l=n(210),d=n(6391),p=n(3833),f=n(1676),v=n.n(f),h=n(8451),m=n.n(h),y=n(2663);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var _=function(e){(0,s.Z)(n,e);var t=k(n);function n(e){var a,s;return(0,i.Z)(this,n),a=t.call(this,e),(0,l.Z)((0,o.Z)(a),"container",void 0),(0,l.Z)((0,o.Z)(a),"throttledMouseMove",void 0),(0,l.Z)((0,o.Z)(a),"dragStartX",void 0),(0,l.Z)((0,o.Z)(a),"dragStartY",void 0),(0,l.Z)((0,o.Z)(a),"handleMove",(function(e){if(a.props.enabled&&(/^mouse(down|move)$/i.test(e.type)&&0===e.button||"touchmove"===e.type)){var t=a._getEventCoordinates(e),n=(0,r.Z)(t,2),i=n[0],o=n[1];a.dragStartX=i,a.dragStartY=o;var s=a._extractRelativePos(i);a.throttledMouseMove({pageX:i}),a.props.onDragging&&a.props.onDragging({percentage:s,id:a.state.id,ended:!1})}})),(0,l.Z)((0,o.Z)(a),"handleMouseMove",(function(e){if(a.props.enabled){var t=a._getEventCoordinates(e),n=(0,r.Z)(t,1)[0];a.throttledMouseMove({pageX:n})}})),(0,l.Z)((0,o.Z)(a),"handleStart",(function(){a.props.enabled&&a.setState({isHovering:!0,id:Date.now()})})),(0,l.Z)((0,o.Z)(a),"handleLeave",(function(){a.props.enabled&&a.setState({isHovering:!1,id:a.state.id})})),(0,l.Z)((0,o.Z)(a),"handleEnd",(function(e){if(a.props.enabled){var t=a._getEventCoordinates(e),n=(0,r.Z)(t,1)[0],i=a._extractRelativePos(n);a.props.onDragging&&a.props.onDragging({percentage:i,id:a.state.id,ended:!0})}})),a.container=d.createRef(),a.state={isHovering:!1,id:0},a.throttledMouseMove=(s=function(e){var t=e.pageX,n=a._extractRelativePos(t);a.setState({hoverPercentage:n})},function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!1;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];t=a,r||(n||s.apply(s,a),r=!0,window.setTimeout((function(){r=!1,n&&s.apply(s,t)}),e))}})(50),a}return(0,a.Z)(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.isDragging&&!e.isDragging?(["mousemove","touchmove"].forEach((function(e){return document.addEventListener(e,t.handleMove)})),["mouseup","touchend"].forEach((function(e){return document.addEventListener(e,t.handleEnd)}))):!this.props.isDragging&&e.isDragging&&(["mousemove","touchmove"].forEach((function(e){return document.removeEventListener(e,t.handleMove)})),["mouseup","touchend"].forEach((function(e){return document.removeEventListener(e,t.handleEnd)})))}},{key:"componentWillUnmount",value:function(){var e=this;["mousemove","touchmove"].forEach((function(t){return document.removeEventListener(t,e.handleMove)})),["mouseup","touchend"].forEach((function(t){return document.removeEventListener(t,e.handleEnd)}))}},{key:"isTouchEventType",value:function(e){return null===e||void 0===e?void 0:e.type.includes("touch")}},{key:"_getEventCoordinates",value:function(e){var t,n;if(this.isTouchEventType(e)){var r="undefined"===typeof e.originalEvent?e:e.originalEvent,i=r.touches[0]||r.changedTouches[0];t=i.pageX,n=i.pageY}else t=e.pageX,n=e.pageY;return[t,n]}},{key:"_extractRelativePos",value:function(e){var t,n=null===(t=this.container.current)||void 0===t?void 0:t.getBoundingClientRect();if(!n)return 0;var r=n.right-n.left;return Math.max(0,Math.min((e-n.left)/r,1))}},{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.max,r=e.current,i=e.isDragging,a=e.withOverhead,o=e.tooltip,s=this.state,u=s.isHovering,c=s.hoverPercentage,d=Math.max(0,Math.min(1,(null!==r&&void 0!==r?r:0)/(n||1))),f={transform:"translateX(-".concat(100-100*(u?c:0),"%)")},h={left:"".concat(100*(u?c:0),"%"),zIndex:1},k=u&&n?n*c:0,_={transform:"translateX(-".concat(100-100*d,"%)")},b=t&&(u||i),g={left:"".concat(100*d,"%")},w=u&&void 0!==n&&n>0;return(0,y.jsxs)("div",{role:"progressbar",tabIndex:0,ref:this.container,onMouseDown:this.handleMove,onMouseEnter:this.handleStart,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleLeave,onTouchStart:this.handleStart,onTouchMove:this.handleMove,onTouchEnd:this.handleLeave,className:a?v().progressBarContainerWithOverhead:v().progressBarContainer,children:[w&&o&&(0,y.jsx)(o,{style:h,children:(0,p.Z)(k)}),(0,y.jsxs)("div",{className:v().progressBarLineBackground,children:[(0,y.jsx)("div",{className:v().progressBarLineActive,style:f}),(0,y.jsx)("div",{"data-testid":"progress-bar-line",id:"progress-bar-line",style:_,className:v().progressBarLine})]}),(0,y.jsx)("div",{"data-testid":"progress-bar-slider",id:"progress-bar-slider",className:m()(v().progressBarSlider,(0,l.Z)({},v().visible,b)),style:g})]})}}]),n}(d.Component),b=_},6998:function(e,t,n){"use strict";n.d(t,{SW:function(){return r}});var r="https://open.spotify.com"},8002:function(e,t,n){"use strict";n.d(t,{y:function(){return f}});var r=n(6391),i=n(3567),a=n(8621),o=n(6998);function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new URL("undefined"!==typeof location&&location.href?location.href:o.SW),r=null;if(e){var i=e.toURL();r=new URL(i),t&&n.searchParams.forEach((function(e,t){r.searchParams.set(t,e)}))}else r=n,t||(r.search="");r.searchParams.delete("nd"),r.searchParams.delete("fallback"),r.searchParams.set("go","1");var s=(0,a.X)();return"string"===typeof(null===s||void 0===s?void 0:s.correlationId)&&r.searchParams.append("sp_cid",s.correlationId),r}function u(e,t){var n=s(e,t);return n.searchParams.set("fallback","getapp"),n}var c=n(2335),l=n(9218),d=function(e){switch(e){case"episode":case"track":return!1;default:return!0}},p=function(e,t,n,r){r&&e.searchParams.set("t",r.toString());var i=new URL("undefined"!==typeof location&&location.href?location.href:"https://open.spotify.com");e.searchParams.has("utm_source")||e.searchParams.set("utm_source",t),e.searchParams.has("utm_medium")||e.searchParams.set("utm_medium",n?"mobile":"desktop");var a=i.searchParams.get("utm_campaign");return a&&e.searchParams.set("utm_campaign",a),e};function f(e){var t=(0,c.v9)((function(e){return e.data.entity})),n=(0,c.v9)((function(e){return e.settings.entityContext})),a=(0,c.v9)((function(e){return e.data.embeded_entity_uri})),o=(0,c.v9)((function(e){return e.settings.isMobile})),f=(0,c.v9)((function(e){var t;return Math.floor((null!==(t=(0,l.k)(e.playback))&&void 0!==t?t:0)/1e3)})),v=(0,r.useState)({selectedEntity:"",compositeEntity:"",embeddedEntity:"",cta:""}),h=v[0],m=v[1];return(0,r.useEffect)((function(){var r=null===t||void 0===t?void 0:t.uri,c=d(n)?a:null===t||void 0===t?void 0:t.relatedEntityUri,l=function(e){var t;return null!==(t=e?(0,i.EC)(e):null)&&void 0!==t?t:void 0},v={compositeEntity:{deepLink:p(s(l(c),!1),e,o).toString(),storeLink:p(u(l(c),!1),e,o).toString()},selectedEntity:{deepLink:p(s(l(r),!1),e,o,f).toString(),storeLink:p(u(l(r),!1),e,o,f).toString()}},h=d(n)?v.compositeEntity:v.selectedEntity;m({selectedEntity:v.selectedEntity.deepLink,compositeEntity:v.compositeEntity.deepLink,embeddedEntity:h.deepLink,cta:h.storeLink})}),[e,t,n,a,f,o]),h}},6924:function(e,t,n){"use strict";n.d(t,{b:function(){return L}});var r=n(77),i=n(1287),a=n(2677),o=n(210),s=n(9105),u=n.n(s),c=n(1215),l=n(9153),d=n.n(l),p=n(2672),f=n.n(p),v=n(8127);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=d()(c.fetch);function k(e){return e&&void 0!==e.retries&&e.retries>0?y:c.fetch}function _(e,t){return b.apply(this,arguments)}function b(){return b=(0,a.Z)(u().mark((function e(t,n){var r,i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:1e4,i=new(f()),a=i.signal,o=setTimeout((function(){return i.abort()}),r),s=k(n),e.abrupt("return",s(t,m(m({},n),{},{signal:a})).then((function(e){return clearTimeout(o),e})).catch((function(e){var i;if("AbortError"===e.name)throw new v.V$({timeout:r,url:t,method:null!==(i=null===n||void 0===n?void 0:n.method)&&void 0!==i?i:"get"});throw clearTimeout(o),e})));case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}var g=n(4583),w=n(7735);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(){function e(t,n){return(0,r.Z)(this,e),(0,o.Z)(this,"method",void 0),(0,o.Z)(this,"url",void 0),(0,o.Z)(this,"postData",void 0),(0,o.Z)(this,"queryParameters",void 0),(0,o.Z)(this,"responseType",void 0),(0,o.Z)(this,"_retryOptions",void 0),(0,o.Z)(this,"_headers",void 0),(0,o.Z)(this,"_includeCredentials",void 0),this.method=t,this.url=n,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._retryOptions=null,this._headers={},this._includeCredentials=!1,this}return(0,i.Z)(e,[{key:"withQueryParameters",value:function(e){this.queryParameters=e}},{key:"withResponseType",value:function(e){this.responseType=e}},{key:"withPostData",value:function(e){this.postData=e}},{key:"withRetries",value:function(e){var t=e.retries,n=e.retryOn,r=e.retryDelay;this._retryOptions={retries:t,retryDelay:r,retryOn:n}}},{key:"addHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"includeCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"send",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n,r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.postData&&(t=null!==(n=this._headers["Content-Type"])&&void 0!==n&&n.startsWith("application/json;charset=UTF-8")?JSON.stringify(this.postData):this.postData),this.url.includes("/soundfinder/")||this.addHeader("User-Agent",w.env.SERVER_UA),r=new URLSearchParams(this.queryParameters).toString(),e.abrupt("return",_("".concat(this.url).concat(r?"?".concat(r):""),N({method:this.method,body:t,credentials:this._includeCredentials?"include":void 0,headers:N({"Content-Type":O(this.responseType)},this._headers)},this._retryOptions)).then(function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=4;break}throw n=v.mk.fromResponse(t,i.method||"GET"),(0,g.ck)(n,new URL(i.url).hostname),n;case 4:if("text"!==i.responseType){e.next=10;break}return e.next=7,t.text();case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,t.json();case 12:e.t0=e.sent;case 13:return e.t1=e.t0,e.t2=t.status,e.abrupt("return",{body:e.t1,status:e.t2});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function O(e){return"text"===e?"text/plain":"application/json"}var E,P=n(4676);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(){function e(){(0,r.Z)(this,e),(0,o.Z)(this,"_accessToken",void 0),(0,o.Z)(this,"_market",void 0),(0,o.Z)(this,"_headers",void 0),(0,o.Z)(this,"_globalRequestHeaders",void 0),(0,o.Z)(this,"_shouldSendMarket",void 0),(0,o.Z)(this,"_shouldSendGlobalHeaders",void 0),(0,o.Z)(this,"_locale",void 0),(0,o.Z)(this,"_retryCount",void 0),(0,o.Z)(this,"_retryStatusCodes",void 0),(0,o.Z)(this,"_retryDelay",void 0),(0,o.Z)(this,"_shouldSendLocale",void 0),(0,o.Z)(this,"_shouldSendAuthorization",void 0),(0,o.Z)(this,"_host",void 0),(0,o.Z)(this,"path",void 0),(0,o.Z)(this,"responseType",void 0),(0,o.Z)(this,"queryParameters",void 0),(0,o.Z)(this,"_method",void 0),(0,o.Z)(this,"jsonContentType",void 0),(0,o.Z)(this,"body",void 0),(0,o.Z)(this,"_endpointIdentifier",void 0),(0,o.Z)(this,"_startTimestamp",void 0),(0,o.Z)(this,"_includeCredentials",void 0),this._accessToken=null,this._market="",this._headers=[],this._globalRequestHeaders=[],this._shouldSendMarket=!0,this._shouldSendGlobalHeaders=!0,this._locale=null,this._retryStatusCodes=[503],this._retryDelay=1e3,this._shouldSendLocale=!1,this._shouldSendAuthorization=!0,this._host="",this.path="",this.responseType="json",this.queryParameters=void 0,this._method="GET",this.jsonContentType=!1,this.body=null,this._endpointIdentifier=null,this._startTimestamp=null,this._includeCredentials=!1}return(0,i.Z)(e,[{key:"getRequestImplementation",value:function(){return E}},{key:"accessToken",set:function(e){this._accessToken=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"globalRequestHeaders",get:function(){return this._globalRequestHeaders},set:function(e){this._globalRequestHeaders=e}},{key:"startTimestamp",get:function(){return this._startTimestamp}},{key:"host",get:function(){return this._host}},{key:"method",get:function(){return this._method}},{key:"endpointIdentifier",get:function(){return this._endpointIdentifier}},{key:"withHost",value:function(e){return this._host=e,this}},{key:"withPath",value:function(e){return this.path=e,this}},{key:"withResponseType",value:function(e){return this.responseType=e,this}},{key:"withEndpointIdentifier",value:function(e){return this._endpointIdentifier=e,this}},{key:"withQueryParameters",value:function(e){return this.queryParameters=e,this}},{key:"withBody",value:function(e){return this.body=e,this}},{key:"withMethod",value:function(e){return this._method=e,this}},{key:"withRetries",value:function(e){var t=e.retries,n=e.retryOn,r=e.retryDelay;return this._retryCount=t,n&&(this._retryStatusCodes=n),r&&(this._retryDelay=r),this}},{key:"withoutMarket",value:function(){return this._shouldSendMarket=!1,this}},{key:"withoutGlobalHeaders",value:function(){return this._shouldSendGlobalHeaders=!1,this}},{key:"withoutAuthorization",value:function(){return this._shouldSendAuthorization=!1,this}},{key:"withLocale",value:function(e){return this._shouldSendLocale=!0,e&&(this._locale=e),this}},{key:"withJsonContentType",value:function(){return this.jsonContentType=!0,this}},{key:"withHeaders",value:function(e){return this._headers=e,this}},{key:"withCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"onBeforeSend",value:function(e){}},{key:"onAfterSend",value:function(e){}},{key:"send",value:function(){var e=(0,a.Z)(u().mark((function e(){var t,n,r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new E(this.method,"".concat(this._host).concat(this.path)),this._shouldSendMarket&&this.market&&(this.queryParameters=S(S({},this.queryParameters),{},{market:this.market})),this._shouldSendLocale&&this.locale&&(this.queryParameters=S(S({},this.queryParameters),{},{locale:this.locale})),this.locale&&t.addHeader("Accept-Language",this.locale),this._retryCount&&t.withRetries({retries:this._retryCount,retryOn:this._retryStatusCodes,retryDelay:this._retryDelay}),t.withQueryParameters(this.queryParameters),t.withResponseType(this.responseType),this._shouldSendAuthorization&&this._accessToken&&t.addHeader("Authorization","Bearer ".concat(this._accessToken)),t.addHeader("Accept","application/json"),this._includeCredentials&&t.includeCredentials(),this._shouldSendGlobalHeaders&&this._globalRequestHeaders.length>0&&this._globalRequestHeaders.forEach((function(e){var n=(0,P.Z)(e,2),r=n[0],i=n[1];t.addHeader(r,i)})),n=0;n<this._headers.length;n++)r=this._headers[n],t.addHeader(r.key,r.value);this.jsonContentType&&t.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&t.withPostData(this.body),e.prev=14,this.onBeforeSend(t),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(14),e.abrupt("return",Promise.reject(e.t0));case 21:return this._startTimestamp=Date.now(),e.abrupt("return",t.send().then((function(e){return i.onAfterSend(),e})).catch((function(e){throw i.onAfterSend(e),e})));case 23:case"end":return e.stop()}}),e,this,[[14,18]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"setRequestImplementation",value:function(e){E=e}}]),e}(),A=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"_accessToken",void 0),(0,o.Z)(this,"_market",void 0),(0,o.Z)(this,"_locale",void 0),(0,o.Z)(this,"_globalRequestHeaders",void 0),(0,o.Z)(this,"_RequestImplementation",void 0),this._accessToken=null,this._market="",this._locale="",this._globalRequestHeaders=[],this._RequestImplementation=t}return(0,i.Z)(e,[{key:"accessToken",get:function(){return this._accessToken},set:function(e){this._accessToken=e}},{key:"globalRequestHeaders",get:function(){return this._globalRequestHeaders},set:function(e){this._globalRequestHeaders=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"resetPendingRequests",value:function(){}},{key:"build",value:function(){j.setRequestImplementation(this._RequestImplementation);var e=new j;return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e.globalRequestHeaders=this.globalRequestHeaders,e}}]),e}(),Z=null,L=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"setSession",value:function(e){if(e){var t=e.accessToken,n=this.getInstance();n.accessToken=t,t||n.resetPendingRequests()}}},{key:"setLocale",value:function(e){this.getInstance().locale=e}},{key:"setGlobalRequestHeaders",value:function(e){this.getInstance().globalRequestHeaders=e}},{key:"setMarket",value:function(e){this.getInstance().market=e}},{key:"resetInstance",value:function(){Z=null}},{key:"getInstance",value:function(){return Z||(Z=this.createNew()),Z}},{key:"createNew",value:function(){return new A(T)}}]),e}()},4487:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r=(0,n(6391).createContext)({instance:null})},3877:function(e,t,n){"use strict";n.d(t,{E:function(){return r},S:function(){return d}});var r,i=n(1287),a=n(77),o=n(536),s=n(1437),u=n(5691),c=n(5064);function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.UPDATE_ITEM="update_item"}(r||(r={}));var d=function(e){(0,o.Z)(n,e);var t=l(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(c.vp)},8621:function(e,t,n){"use strict";var r;n.d(t,{X:function(){return i},u:function(){return a}});var i=function(){if(!r)throw new Error("Config data not set");return r},a=function(e){r=e}},92:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var r=function(e){var t,n,r;if(!e)throw new Error("Error: Entity Unavailable");var i,a,o,s=e.uri,u={};(u.title=e.title,u.subtitle=e.subtitle,u.duration=null===(t=null!==(n=e.duration)&&void 0!==n?n:0)||void 0===t?void 0:t.toString(),u.audioPreviewUrl=null===(r=e.audioPreview)||void 0===r?void 0:r.url,u.explicit=e.isExplicit?"true":"false",function(e){return!("relatedEntityUri"in e)}(e))?u.uid=e.uid:u.releaseDate=null!==(i=null===(a=e.releaseDate)||void 0===a||null===(o=a.isoString)||void 0===o?void 0:o.replace(/T.*/,""))&&void 0!==i?i:"";return{uri:s,metadata:u}}},3476:function(e,t,n){"use strict";n.d(t,{rg:function(){return r},Bc:function(){return f}});var r,i,a=n(77),o=n(1287),s=n(536),u=n(1437),c=n(5691),l=n(5064),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l.vp;(0,a.Z)(this,e),this._emitter=t,this._emitter=t||new l.vp}return(0,o.Z)(e,[{key:"addListener",value:function(e,t,n){return this._emitter.addListener(e,t,n),this}},{key:"removeListener",value:function(e,t,n){return this._emitter.removeListener(e,t,n),this}},{key:"onAddListener",value:function(e,t){return this._emitter.onAddListener(e,t),this}},{key:"onRemoveListener",value:function(e,t){return this._emitter.onRemoveListener(e,t),this}},{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"emitSync",value:function(e,t){return this._emitter.emitSync(e,t)}}]),e}();function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}!function(e){e.UPDATE="update",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound"}(r||(r={})),function(e){e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.SKIP_TO_NEXT="skipToNext",e.SKIP_TO_PREVIOUS="skipToPrevious"}(i||(i={}));var f=function(e){(0,s.Z)(n,e);var t=p(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"emitPlaySync",value:function(e,t,n){return this.emitSync(r.ACTION,{action:i.PLAY,context:e,origin:t,options:n}).defaultPrevented}},{key:"emitPauseSync",value:function(){return this.emitSync(r.ACTION,{action:i.PAUSE}).defaultPrevented}},{key:"emitResumeSync",value:function(){return this.emitSync(r.ACTION,{action:i.RESUME}).defaultPrevented}},{key:"emitSkipToNextSync",value:function(){return this.emitSync(r.ACTION,{action:i.SKIP_TO_NEXT}).defaultPrevented}},{key:"emitSkipToPreviousSync",value:function(){return this.emitSync(r.ACTION,{action:i.SKIP_TO_PREVIOUS}).defaultPrevented}}]),n}(d)},7184:function(e,t,n){"use strict";n.d(t,{O:function(){return o},b:function(){return s}});var r=n(6391),i=n(7093),a=n(2663),o=(0,r.createContext)(new i.oc),s=function(e){var t=e.instance,n=e.children;return(0,a.jsx)(o.Provider,{value:t,children:n})}},1562:function(e,t,n){"use strict";n.d(t,{b:function(){return l},h:function(){return c}});var r=n(210),i=n(6391),a=n(2663);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={width:null,height:null},c=(0,i.createContext)(u),l=function(e){var t=e.children,n=(0,i.useState)(u),r=n[0],o=n[1];return(0,i.useEffect)((function(){o({width:window.innerWidth,height:window.innerHeight});var e=function(){o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,a.jsx)(c.Provider,{value:s({},r),children:t})}},9005:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(7519);function i(e){return{type:r.C,interactionData:e}}},8349:function(e,t,n){"use strict";n.d(t,{AI:function(){return o},Nn:function(){return i},h6:function(){return a}});var r=n(4503);function i(){return{type:r.RA}}function a(){return{type:r.gm}}function o(e){return{type:r.G$,productName:e}}},916:function(e,t,n){"use strict";n.d(t,{$9:function(){return f},O7:function(){return k},Pu:function(){return _},WT:function(){return u},Xh:function(){return i},ax:function(){return l},cJ:function(){return y},ez:function(){return c},hY:function(){return a},jA:function(){return v},qi:function(){return h},r0:function(){return p},v5:function(){return m},vR:function(){return d},wO:function(){return s},xu:function(){return o}});var r=n(2454);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.yp.AUDIO;return{type:r.Nv,mediaType:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.yp.AUDIO;return{type:r.NH,mediaType:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.yp.AUDIO;return{type:r.Bb,index:e,mediaType:t}}function s(){return{type:r.E7}}function u(){return{type:r.wh}}function c(){return{type:r.Eb}}function l(){return{type:r.ry}}function d(){return{type:r.pe}}function p(){return{type:r.Q2}}function f(){return{type:r.ot}}function v(e){return{type:r.FB,volume:e}}function h(e){return{type:r.sV,index:e}}function m(e){return{type:r.z1,state:e}}function y(e){return{type:r.Y4,error:e}}function k(e){return{type:r.tG,time:e}}function _(e){return{type:r.tG,percentage:e}}},3739:function(e,t,n){"use strict";n.d(t,{j:function(){return i},s:function(){return a}});var r=n(1191);function i(){return{type:r.q}}function a(){return{type:r.N}}},8326:function(e,t,n){"use strict";n.d(t,{k:function(){return i},z:function(){return a}});var r=n(3567),i=function(e){var t=e.data.entity;return(null===t||void 0===t?void 0:t.type)===r.JM.EPISODE},a=function(e){var t;return null===(t=(0,r.EC)(e.data.embeded_entity_uri))||void 0===t?void 0:t.toURL()}},4965:function(e,t,n){"use strict";function r(e){return void 0!==e.status}n.d(t,{v:function(){return r}})},8127:function(e,t,n){"use strict";n.d(t,{V$:function(){return y},mk:function(){return m}});var r=n(1437),i=n(77),a=n(1287),o=n(4492),s=n(536),u=n(5691),c=n(5790),l=n(210),d=n(3567);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,r.Z)(this,n)}}Error;function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,r.Z)(this,n)}}var m=function(e){(0,s.Z)(n,e);var t=h(n);function n(e){var r;(0,i.Z)(this,n);var a=e.message,s=e.url,u=e.method,c=e.status,d=e.response;return r=t.call(this,a),(0,l.Z)((0,o.Z)(r),"name",void 0),(0,l.Z)((0,o.Z)(r),"requestUrl",void 0),(0,l.Z)((0,o.Z)(r),"requestMethod",void 0),(0,l.Z)((0,o.Z)(r),"status",void 0),(0,l.Z)((0,o.Z)(r),"response",void 0),r.name="HttpResponseError",r.requestUrl=s,r.requestMethod=u,r.status=c,r.response=d,r}return(0,a.Z)(n,null,[{key:"fromResponse",value:function(e,t){return new n({message:e.statusText,url:e.url,method:t,status:e.status,response:e})}}]),n}((0,c.Z)(Error)),y=function(e){(0,s.Z)(n,e);var t=h(n);function n(e){var r;(0,i.Z)(this,n);var a=e.timeout,s=e.url,u=e.method;return r=t.call(this,{message:"".concat(u.toUpperCase()," ").concat(s," timed out (").concat(a,"ms)"),url:s,method:u,status:503}),(0,l.Z)((0,o.Z)(r),"name",void 0),(0,l.Z)((0,o.Z)(r),"timeout",void 0),r.name="HttpRequestTimeoutError",r.timeout=a,r}return(0,a.Z)(n)}(m);n(4583)},4583:function(e,t,n){"use strict";n.d(t,{ck:function(){return o}});var r=n(6073),i=n(8124),a=(n(8012),function(e){return void 0!==e.status});var o=function(e,t){var n;(0,i.sQ)({metric_type:r.MetricTypes.COUNTER,what:"error",tags:{errorName:null!==(n=e.name)&&void 0!==n?n:JSON.stringify(e),type:"network",serviceName:t,status:a(e)?String(e.status):"UNKNOWN_STATUS"},value:1})}},6974:function(e,t,n){"use strict";n.d(t,{Ki:function(){return _},Zo:function(){return g},dN:function(){return x},eL:function(){return v},p4:function(){return b},uJ:function(){return w},ue:function(){return m},wr:function(){return k}});var r,i,a,o,s,u,c=n(1039),l=n(7835),d=n(395),p=(0,l.iv)(r||(r=(0,c.Z)(["\n  color: ",";\n"])),"rgb(255, 255, 255)"),f=((0,l.iv)(i||(i=(0,c.Z)(["\n  ",";\n  font-weight: 450;\n"])),p),"\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n"),v=((0,l.iv)(a||(a=(0,c.Z)(["\n  ","\n"])),f),(0,d.iv)(["",""],f)),h=(0,l.iv)(o||(o=(0,c.Z)(["\n  h1,\n  h2 {\n    margin: 0;\n    font-size: initial;\n    font-weight: normal;\n  }\n\n  .no-focus-outline {\n    *:focus {\n      outline: 0;\n    }\n  }\n\n  button {\n    margin: 0;\n    border: 0;\n    padding: 0;\n    color: inherit;\n    background-color: transparent;\n    cursor: pointer;\n  }\n\n  a {\n    ",";\n    text-decoration: none;\n  }\n\n  button {\n    user-select: none;\n  }\n"])),p),m=(0,l.iv)(s||(s=(0,c.Z)(["\n  body {\n    ",";\n  }\n\n  ",";\n"])),p,h),y=((0,l.iv)(u||(u=(0,c.Z)(["\n  body {\n    ",";\n  }\n\n  ",";\n"])),p,h),function(e){var t=e.width,n=e.breakPointType,r=void 0===n?"max-width":n;return function(){return(0,d.iv)(["@media screen and (",":","px){","}"],r,t,d.iv.apply(void 0,arguments))}}),k={small:{width:375},medium:{width:479},large:{width:589},xLarge:{width:1024,breakPointType:"min-width"}},_={small:y(k.small),medium:y(k.medium),large:y(k.large),xLarge:y(k.xLarge)},b={compactLegacy:80,landscape:152,landscapeLegacy:232,large:352},g={small:360,medium:510},w={width:{small:"@media (max-width: 300px)",medium:"@media (max-width: 520px)"},height:{small:"@media (max-height: ".concat(b.landscapeLegacy-1,"px)"),medium:"@media (max-height: ".concat(b.large-1,"px)")}},x={landscape:{small:90,large:120},landscapeLegacy:{small:152,medium:160,large:200},portrait:176,largeScreen:{small:216,large:272}}},7751:function(e,t,n){"use strict";var r,i;n.d(t,{p:function(){return r}}),function(e){e.ALBUM="album",e.ARTIST="artist",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.EPISODE="episode",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown"}(r||(r={})),function(e){e.ALLOWED="ALLOWED",e.MANDATORY="MANDATORY",e.NONE="NONE"}(i||(i={}))},7519:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var r="LOG_INTERACTION"},4503:function(e,t,n){"use strict";n.d(t,{G$:function(){return a},RA:function(){return i},gm:function(){return r}});var r="CLOSE_OVERFLOW_MENU",i="SHOW_OVERFLOW_MENU",a="PLAY_ON_SPOTIFY_CLICK"},9180:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return i},d:function(){return r}}),function(e){e.UNKNOWN="unknown",e.FULL="full-playback",e.PREVIEW="preview-playback"}(r||(r={}));var i="SET_PLAYBACK_MODE"},2454:function(e,t,n){"use strict";n.d(t,{Bb:function(){return o},E7:function(){return r},Eb:function(){return p},FB:function(){return y},NH:function(){return i},Nv:function(){return a},Q2:function(){return h},Y4:function(){return u},Zq:function(){return b},gk:function(){return c},ot:function(){return m},pe:function(){return f},ry:function(){return v},sV:function(){return k},tG:function(){return l},wh:function(){return d},yp:function(){return _},z1:function(){return s}});var r="PAUSE",i="PLAY",a="TOGGLE_PLAY",o="PLAY_INDEX",s="PLAYBACK_STATE_CHANGED",u="PLAYBACK_ERROR",c="RESUME",l="SEEK",d="SEEK_BACK",p="SEEK_FORWARD",f="PLAY_NEXT",v="PLAY_PREVIOUS",h="MUTE",m="UNMUTE",y="SET_VOLUME",k="SET_CURRENT_PREVIEW_TRACK_INDEX;",_={AUDIO:"audio",VIDEO:"video"},b={NONE:"NONE",ALLOWED:"ALLOWED",MANDATORY:"MANDATORY"}},1191:function(e,t,n){"use strict";n.d(t,{N:function(){return i},q:function(){return r}});var r="INITIALIZE",i="MOUNTED"},9218:function(e,t,n){"use strict";function r(e){var t;return function(e,t){if(null===e||null===t||null===e.duration)return null;var n=e.timestamp,r=e.duration,i=e.speed,a=e.hasContext,o=e.isPaused,s=e.isBuffering;if(!a||o||s)return t;var u=(Date.now()-n)*(null!==i&&void 0!==i?i:0);return Math.min(t+u,r)}(e,null!==(t=null===e||void 0===e?void 0:e.positionAsOfTimestamp)&&void 0!==t?t:null)}n.d(t,{k:function(){return r}})},9450:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(2677),i=n(9105),a=n.n(i);function o(e){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:document.body,!("clipboard"in navigator)){e.next=21;break}if(e.prev=2,"string"!==typeof t){e.next=7;break}return e.next=6,navigator.clipboard.writeText(t);case 6:return e.abrupt("return",e.sent);case 7:if(!navigator.clipboard.write){e.next=11;break}return e.next=10,navigator.clipboard.write([new ClipboardItem({"text/plain":t.then((function(e){return new Blob([e],{type:"text/plain"})}))})]);case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,t;case 13:return r=e.sent,e.next=16,navigator.clipboard.writeText(r);case 16:return e.abrupt("return",e.sent);case 19:e.prev=19,e.t0=e.catch(2);case 21:if(null!==n){e.next=23;break}throw new Error("Node is null, copy cannot be performed.");case 23:if(i="","string"!==typeof t){e.next=28;break}i=t,e.next=31;break;case 28:return e.next=30,t;case 30:i=e.sent;case 31:return(o=document.createElement("textarea")).value=i,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",n.appendChild(o),o.select(),document.execCommand("copy"),n.removeChild(o),e.abrupt("return",Promise.resolve());case 41:case"end":return e.stop()}}),e,null,[[2,19]])}))),s.apply(this,arguments)}},8e3:function(e,t,n){"use strict";n.d(t,{RX:function(){return i},rL:function(){return a}});var r=n(7093),i=function(e){return new Date(e)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.ag;return(new Date).getUTCFullYear()===e.getUTCFullYear()?t.formatDate(e,{month:"short",day:"numeric",timeZone:"UTC"}):t.formatDate(e,{month:"short",year:"numeric",timeZone:"UTC"})}},3833:function(e,t){"use strict";var n=6e4,r=36e5,i=function(e){return e<10?"0".concat(e):"".concat(e)};t.Z=function(e){var t=e<0,a=Math.abs(e),o=Math.floor(a/r),s=Math.floor(a%r/n)||0,u=Math.floor(a%n/1e3)||0,c=t?"-":"",l=[o?"".concat(o):"",i(s),i(u)].filter((function(e){return e})).join(":");return"".concat(c).concat(l)}},4935:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(1289),i=n.n(r);function a(){var e=i().getParser(window.navigator.userAgent),t=function(e){switch(e){case"macOS":return"osx";case"Chrome OS":return"chrome";default:return e}}(e.getOSName()||"not_applicable"),n=function(e,t){if("Windows"===e)switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return""}return t}(t,e.getOSVersion());return{osName:t,osVersion:n,browserName:e.getBrowserName(),browserVersion:e.getBrowserVersion()}}},4372:function(e,t,n){"use strict";n.d(t,{l:function(){return a},m:function(){return i}});var r=n(2969);function i(e){return(0,r.Z)(e).sort((function(e,t){return(e.width||0)-(t.width||0)}))}function a(e){return(0,r.Z)(e).sort((function(e,t){return(t.width||0)-(e.width||0)}))}},6976:function(e){e.exports={wrapper:"AddToLibrary_wrapper__DWzGV",isAudiobook:"AddToLibrary_isAudiobook__hMoon",followButton:"AddToLibrary_followButton__qQVK3",following:"AddToLibrary_following__CO6Cl",heartButton:"AddToLibrary_heartButton__nDvlC",addToLibraryButtonWrapper:"AddToLibrary_addToLibraryButtonWrapper__No_CC",addToLibraryButton:"AddToLibrary_addToLibraryButton__xU9x5",addToLibraryButtonText:"AddToLibrary_addToLibraryButtonText__693Pv"}},2096:function(e){e.exports={backgroundColorContainer:"EmbedAudioWidget_backgroundColorContainer__ApKWU",spotifyLogo:"EmbedAudioWidget_spotifyLogo____Qe0",isAudiobook:"EmbedAudioWidget_isAudiobook__58c30",container:"EmbedAudioWidget_container__8roNb",metadataAndPlayerControlsContainer:"EmbedAudioWidget_metadataAndPlayerControlsContainer__hAT6m",trackListContainer:"EmbedAudioWidget_trackListContainer__ETJy2",playerControlsWrapper:"EmbedAudioWidget_playerControlsWrapper__d_2Qc",alignBelowUpsell:"EmbedAudioWidget_alignBelowUpsell__MpGzx"}},6525:function(e){e.exports={wrapper:"Error_wrapper__R_qKY",content:"Error_content__k6tKj",title:"Error_title__zx_jT",description:"Error_description__BpsOS",links:"Error_links__6sqiz",primary:"Error_primary__5t3Bl",icon:"Error_icon__4MMWa"}},2197:function(e){e.exports={loadingSpinner:"LoadingSpinner_loadingSpinner__OwQX6",SpinAnimation:"LoadingSpinner_SpinAnimation__szTan"}},3758:function(e){e.exports={container:"Marquee_container__aUCAm",containerRtl:"Marquee_containerRtl__aBiIX",scrollableContainer:"Marquee_scrollableContainer__4VUaw",inner:"Marquee_inner__AGJOx"}},3815:function(e){e.exports={coverArtMetadataContainer:"Metadata_coverArtMetadataContainer__CZCe6",isAudiobook:"Metadata_isAudiobook__CvHgl",alignBelowUpsell:"Metadata_alignBelowUpsell___jTwK",isPreviewOrTrailer:"Metadata_isPreviewOrTrailer___ZKRy",coverArt:"Metadata_coverArt__AZhtt",scaleDownBelowUpsell:"Metadata_scaleDownBelowUpsell__yT3oc",scaleDownWhenPlaying:"Metadata_scaleDownWhenPlaying__CeAzj",metadataWrapper:"Metadata_metadataWrapper___VFIh",title:"Metadata_title__s2fQL",subtitle:"Metadata_subtitle__4USYi",metadataContent:"Metadata_metadataContent__weofz",condensedMetadataWrapper:"Metadata_condensedMetadataWrapper__yvOMg",condensedMetadataContainer:"Metadata_condensedMetadataContainer__pN3PC",labelsAndSubtitle:"Metadata_labelsAndSubtitle__2mgmb",tagList:"Metadata_tagList__5xDBm",hidden:"Metadata_hidden__lLZt_",tag:"Metadata_tag__UHQYu",subtitleAdjacentTags:"Metadata_subtitleAdjacentTags__wUNlN",condensedTags:"Metadata_condensedTags__pjFFM",standalone:"Metadata_standalone__rxhFb",separator:"Metadata_separator__n61BJ"}},4453:function(e){e.exports={wrapper:"OverflowMenu_wrapper__pSRdd",visible:"OverflowMenu_visible___66nZ",menu:"OverflowMenu_menu__OKGl1",menuContent:"OverflowMenu_menuContent__QLzlS",closeButton:"OverflowMenu_closeButton__Lv0qi",icon:"OverflowMenu_icon__S9vgp",menuItem:"OverflowMenu_menuItem__ZiTR6",menuItemButton:"OverflowMenu_menuItemButton__V9pqE",copyLinkWrapper:"OverflowMenu_copyLinkWrapper__BS1m2",copyText:"OverflowMenu_copyText__epuJA",copied:"OverflowMenu_copied__dmUkE",copiedText:"OverflowMenu_copiedText__Zi48y",policies:"OverflowMenu_policies__tC0Zg",link:"OverflowMenu_link__NgDmB",truncator:"OverflowMenu_truncator__wpShK",separator:"OverflowMenu_separator__aohb7"}},1570:function(e){e.exports={buttonWrapper:"PlayButton_buttonWrapper__wWFKn",playPauseIcon:"PlayButton_playPauseIcon__T3hX3",disabled:"PlayButton_disabled__QS4v_"}},7120:function(e){e.exports={previewMode:"PlayerControls_previewMode__JVbm7",progressBarWrapper:"PlayerControls_progressBarWrapper__mCVvm",isAudiobook:"PlayerControls_isAudiobook__Y94VZ",seekButton:"PlayerControls_seekButton__cQIT4",playButtonWrapper:"PlayerControls_playButtonWrapper__uuXuJ",hideWhenFullHeightUpsell:"PlayerControls_hideWhenFullHeightUpsell__j_aWN",isUpsell:"PlayerControls_isUpsell___1Yau",wrapper:"PlayerControls_wrapper__PKAcM",overflowMenuButton:"PlayerControls_overflowMenuButton__zlbIh",hasPlaybackContext:"PlayerControls_hasPlaybackContext__iry2T",hideSeekButton:"PlayerControls_hideSeekButton__5PvqA",seekBack:"PlayerControls_seekBack__ad_Ql",seekForward:"PlayerControls_seekForward__ayuSv",tooltipContainer:"PlayerControls_tooltipContainer__N9WD2",baselineWrapper:"PlayerControls_baselineWrapper__b2Tq7",seekControlsWrapper:"PlayerControls_seekControlsWrapper__NBAOV",progressTimeSpacer:"PlayerControls_progressTimeSpacer__uyZ6w",actualProgressTime:"PlayerControls_actualProgressTime__RWZve",progressTimer:"PlayerControls_progressTimer__gXi8V"}},8900:function(e){e.exports={circularContainer:"PreviewPlayPause_circularContainer__thInz",circularInner:"PreviewPlayPause_circularInner__c_v8y",rangeBarRight:"PreviewPlayPause_rangeBarRight__Kq95S",rangeBarLeft:"PreviewPlayPause_rangeBarLeft__GfYjs",rangeBarProgress:"PreviewPlayPause_rangeBarProgress__J55An",iconButton:"PreviewPlayPause_iconButton__PKraz"}},1676:function(e){e.exports={progressBarContainer:"ProgressBar_progressBarContainer__FMNaC",progressBarContainerWithOverhead:"ProgressBar_progressBarContainerWithOverhead__zn8L3",progressBarLineActive:"ProgressBar_progressBarLineActive__SC1Sq",progressBarLineBackground:"ProgressBar_progressBarLineBackground__MihkX",progressBarLine:"ProgressBar_progressBarLine__F0JGe",progressBarSlider:"ProgressBar_progressBarSlider__AXXKa",visible:"ProgressBar_visible__5S0oO"}},6107:function(e){e.exports={container:"Tag_container__hkmuD"}},7225:function(e){e.exports={tagList:"Tags_tagList__SXO91",hidden:"Tags_hidden__YF0l9",tag:"Tags_tag__BQe85",condensedTags:"Tags_condensedTags__i5jEI"}},8674:function(e){e.exports={backgroundColorContainer:"TrackList_backgroundColorContainer__jrWKP",opacityContainer:"TrackList_opacityContainer__RZUr_",wrapper:"TrackList_wrapper__OHIO_",isComposite:"TrackList_isComposite__fhMkh",trackListContainer:"TrackList_trackListContainer__twXd5"}},2384:function(e){e.exports={trackListRow:"TracklistRow_trackListRow__0cLFZ",isCurrentTrack:"TracklistRow_isCurrentTrack__twcgg",isPlayable:"TracklistRow_isPlayable__uz_XP",isExplicit:"TracklistRow_isExplicit__LSvrR",condensedMetadata:"TracklistRow_condensedMetadata__XmWQA",separator:"TracklistRow_separator__O0Jh1",tag:"TracklistRow_tag__XeQcS",title:"TracklistRow_title__NeyCa",subtitle:"TracklistRow_subtitle__O7I4a",trackNumberCell:"TracklistRow_trackNumberCell__n1JOy",trackNumberCellContent:"TracklistRow_trackNumberCellContent__OzWnE",durationCell:"TracklistRow_durationCell__xglYC"}},2762:function(e){e.exports={fullscreenWrapper:"Upsell_fullscreenWrapper__QThe8",transition_enter:"Upsell_transition_enter__KjCv4",transition_enterActive:"Upsell_transition_enterActive__ut8Fd",transition_exit:"Upsell_transition_exit__ovWCP",transition_exitActive:"Upsell_transition_exitActive__ee9LX",ctaWrapper:"Upsell_ctaWrapper__6eTE5",isAudiobook:"Upsell_isAudiobook__xa8As",backgroundCoverArt:"Upsell_backgroundCoverArt__zL4_n",getSpotifyButton:"Upsell_getSpotifyButton__VmS2e",buttonText:"Upsell_buttonText__2qrMB",closeButton:"Upsell_closeButton__ppDoK",content:"Upsell_content__24W5V",ctaText:"Upsell_ctaText__V2scH",metadataWrapper:"Upsell_metadataWrapper__IKzwn",tagsWrapper:"Upsell_tagsWrapper__TM7Hr",playerControlsWrapper:"Upsell_playerControlsWrapper__ijVqT",tagsBesideControls:"Upsell_tagsBesideControls__5XBuA",tagsBelowMetadata:"Upsell_tagsBelowMetadata__MEfw6"}}}]);